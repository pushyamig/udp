{
  "info": {
    "_postman_id": "95901fa9-c312-406e-98f5-3afd45372f83",
    "name": "udp",
    "description": "# Requests and tests for Unizin Data Platform (UDP)\n\nAuthor: TL Developers (its.tl.dev@umich.edu)\n\nRequires Postman environment keys:\n* udp_token\n",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "E-25 End-to-End event round up",
      "description": null,
      "item": [
        {
          "name": "E-25_call_to_udp",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "aeafa23b-4c74-4e41-92d9-9694498e24c3",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a231ba22-f82c-4b9c-aa99-cbadb67ff715",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "function parseResp(data){",
                  "    msg = jsonData.accepted_events[0];",
                  "    idWithUrn = msg.id;",
                  "    id=idWithUrn.split(\":\")[2];",
                  "    topic = msg.topics;",
                  "    return {\"id\":id,\"topic\":topic};",
                  "}",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// var bq = \"9eda84a3-79d0-47aa-b868-0be6dc2143f3\";",
                  "pm.environment.set('bq',bq);",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "",
                  "",
                  "delayRequestToBigQuery();",
                  "",
                  "function delayRequestToBigQuery() {",
                  "    setTimeout(function () {",
                  "        console.log(\"waiting here for 30 seconds before making BQ call\");",
                  "    },30000);",
                  "};",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Requires Postman environment keys:\n* udp_token\n* udp_uniqname\n* udp_lis_course_offering_sourcedid\n* udp_lis_person_sourcedid"
          },
          "response": [
            {
              "id": "539a4f1b-3639-4280-9708-0b7e47de7c9f",
              "name": "Ex. 1: SessionEvent, LoggedIn",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "html",
              "header": [
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Encoding",
                  "description": ""
                },
                {
                  "key": "Content-Type",
                  "value": "text/html; charset=utf-8",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Type",
                  "description": ""
                }
              ],
              "cookie": [],
              "body": "{\"urn:uuid:654e4d31-e56d-45cc-9661-deb323080f7a\": {\"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"39447962165063\"}}"
            }
          ]
        },
        {
          "name": "E-25_call_to_bq",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4500f455-cc1e-4232-b59e-b5ce492fd2de",
                "type": "text/javascript",
                "exec": [
                  "var resp = pm.response;",
                  "pm.test('Response from BQ: 200 OK', function () {",
                  "    if(pm.response.code == 200){",
                  "        console.log(\"Happy response from BQ\");",
                  "        pm.expect(pm.response.code).to.equal(200);",
                  "    }else{",
                  "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                  "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                  "    }",
                  "});",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "var bq = pm.environment.get(\"bq\");",
                  "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                  "var bqRes = resp.json();",
                  "var tableRows = bqRes.rows[0];",
                  "",
                  "pm.test(gtBQCheck, function () {",
                  "    var tableId=tableRows.f[0].v;",
                  "    pm.expect((tableId)).to.equal(bq);",
                  "});",
                  "",
                  "var gtBQEnrichmentCheck = \"Event with Id \\\"{0}\\\"is enriched\".format(bq);",
                  "var edAppColPosi;",
                  "var ucdmCourseOfferingIdColumPosi;",
                  "var ucdmActorIdColPosi;",
                  "var bqColumnValues=bqRes.schema.fields;",
                  "for(i=0;i<bqColumnValues.length;i++){",
                  "    if(bqColumnValues[i].name ===\"ed_app\"){",
                  "        edAppColPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_course_offering_id\"){",
                  "        ucdmCourseOfferingIdColumPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_actor_id\"){",
                  "        ucdmActorIdColPosi=i;",
                  "    }",
                  "}",
                  "var edAppValue=tableRows.f[edAppColPosi].v;",
                  "var ucdmCourseOfferingIdValue=tableRows.f[ucdmCourseOfferingIdColumPosi].v;",
                  "var ucdmActorIdValue=tableRows.f[ucdmActorIdColPosi].v;",
                  "pm.test(gtBQEnrichmentCheck,function(){",
                  "    pm.expect((edAppValue)).to.equal('https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture');",
                  "    pm.expect((ucdmCourseOfferingIdValue)).to.equal(\"8\");",
                  "    pm.expect((ucdmActorIdValue)).to.equal(\"3922353\");",
                  "    ",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{gcp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
            },
            "url": {
              "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
              "protocol": "https",
              "host": [
                "www",
                "googleapis",
                "com"
              ],
              "path": [
                "bigquery",
                "v2",
                "projects",
                "unizin-udp-data-umich-dev",
                "queries"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "E-21 - Quatantine Process",
      "description": "The Quarantine process is a tricky one. The events that are sent to the Endpoint are written to the Bucket object in UTC time format. We need to anticipate what the object name will be as in UDP Pipeline LTE processes events in 20 second microbatches, so we would expect that process to take around 30 sec at the highest, but it could be lower if an event comes in right before the micobatch is picked up. So we are getting the event list based on date and time( to the hour match ) that would get a bunch of bucket objects and looping through making API call to find if event is found in a list are not.\n\nI found a solution for making the quarantine process from this article\nhttps://thisendout.com/2017/02/22/loops-dynamic-variables-postman-pt2/",
      "item": [
        {
          "name": "E21_call_to_udp",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f06b6d85-2caa-49ee-a321-816946c71b63",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); ",
                  "",
                  "function randomNumberInRange(minVal,maxVal)",
                  "{",
                  "  var randVal = minVal+(Math.random()*(maxVal-minVal));",
                  "  return Math.round(randVal);",
                  "}",
                  "",
                  "var random_user_suffix = '_'+randomNumberInRange(1, 9999);",
                  "pm.environment.set('random_user_suffix',random_user_suffix);",
                  "// console.log(random_user_suffix);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a59ef065-cb0e-4a90-88d2-36384e747313",
                "type": "text/javascript",
                "exec": [
                  "function fileNamePrefix(){  ",
                  "    var date = new Date();",
                  "    var year = date.getUTCFullYear();",
                  "    var month = date.getUTCMonth() + 1; // getMonth() is zero-indexed, so we'll increment to get the correct month number",
                  "    var day = date.getUTCDate();",
                  "    var hours = date.getUTCHours();",
                  "    var minutes = date.getUTCMinutes();",
                  "    ",
                  "    month = (month < 10) ? '0' + month : month;",
                  "    day = (day < 10) ? '0' + day : day;",
                  "    hours = (hours < 10) ? '0' + hours : hours; ",
                  "    minutes = (minutes < 10) ? '0' + minutes : minutes;",
                  "    // return year + '-' + month + '-' + day + '_' + hours+'-'+minutes;//Return UTC string.",
                  "    return year + '-' + month + '-' + day + '_' + hours;//Return UTC string.",
                  "}  ",
                  "",
                  "var fnprefix = fileNamePrefix();",
                  "console.log(\"fileNamePrefixToSearchOn \",fnprefix);",
                  "",
                  "pm.environment.set('fileNamePrefix',fnprefix);",
                  "",
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// pm.environment.set('bq',bq);",
                  "// var bq = \"9eda84a3-79d0-47aa-b868-0be6dc2143f3\";",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "",
                  "delayRequestToBigQuery();",
                  "",
                  "function delayRequestToBigQuery() {",
                  "    setTimeout(function () {",
                  "        console.log(\"waiting here for 30 seconds before making Quatantine bucket call\");",
                  "    },30000);",
                  "}",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}{{random_user_suffix}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}{{random_user_suffix}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}{{random_user_suffix}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}{{random_user_suffix}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}{{random_user_suffix}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}{{random_user_suffix}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}{{random_user_suffix}}\"\n  }\n}\n  ]\n}\n"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            }
          },
          "response": []
        },
        {
          "name": "E21_list_bucket_object",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ebed5bfc-7636-42c4-a504-1778d3d191d4",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "cdb88832-c579-4b4c-9a8d-8c647ee12602",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from Google Storage: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var res = pm.response.json();",
                  "var hasFileItems = res.hasOwnProperty('items');",
                  "if(hasFileItems){",
                  "    console.log(pm.globals.get('eventId'));",
                  "    numberOfFiles = res.items.length;",
                  "    bucketName = res.items[0].bucket;",
                  "    pm.test('Event anticipated to be found in Quarantine bucket: {0} '.format(bucketName),function(){",
                  "        pm.expect(numberOfFiles).gt(0);",
                  "    });",
                  "    ",
                  "    findTheEventInQurantineBucket(res.items);",
                  "    ",
                  "}else{",
                  "   pm.test('Failure : Event {0} not found in Quarantine bucket '.format(pm.globals.get('eventId')),function(){",
                  "        pm.expect(hasFileItems).equal(true);",
                  "    }); ",
                  "}",
                  "",
                  "function findTheEventInQurantineBucket(fileList){",
                  "    var bucketObjLinks = [];",
                  "    for(var i = 0;i < fileList.length ; ++i){",
                  "        var bucketObjLink = fileList[i].mediaLink;",
                  "        bucketObjLinks.push(bucketObjLink);",
                  "        }",
                  "        ",
                  "    // remove the first element from the bucketObjLinks list",
                  "    // and set it to the bucketObjLink environment variable",
                  "    pm.environment.set(\"bucketObjLink\", bucketObjLinks.shift());",
                  "    // convert bucketObjLinks list to a string and store as",
                  "    // an environment variable",
                  "    pm.environment.set(\"bucketObjLinks\", JSON.stringify(bucketObjLinks));",
                  "    // set the next request to call",
                  "    postman.setNextRequest(\"E21_get_Obj_content/{{bucketObjLink}}\");",
                  "    }",
                  "",
                  "",
                  "",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{gcp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {},
            "url": {
              "raw": "https://www.googleapis.com/storage/v1/b/stream-unizin-udp-quarantine-umich-dev/o?prefix=umich-stream-gold-umich-leccap-{{env}}%2F{{fileNamePrefix}}",
              "protocol": "https",
              "host": [
                "www",
                "googleapis",
                "com"
              ],
              "path": [
                "storage",
                "v1",
                "b",
                "stream-unizin-udp-quarantine-umich-dev",
                "o"
              ],
              "query": [
                {
                  "key": "prefix",
                  "value": "umich-stream-gold-umich-leccap-{{env}}%2F{{fileNamePrefix}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "E21_get_Obj_content/{{bucketObjLink}}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2b3ea1a2-9ae7-4144-9dc4-3b7d4c2ebd26",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from Bucket Storage Object: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is Octet-Stream: OK to process', function () { ",
                  "    // resp.ok;",
                  "    // resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/octet-stream/i);",
                  "    // resp.json; ",
                  "});",
                  "var eventID = pm.globals.get('eventId');",
                  "var foundId = (pm.response.text().includes(eventID))?\"true\":\"false\";",
                  "// retrieve the bucketObjLinks list from the environment",
                  "// and parse it into a typed object",
                  "var bucketObjLinks = JSON.parse(environment.bucketObjLinks);",
                  "",
                  "if(foundId  === 'true'){",
                  "    pm.test('Event {0} found in the quarantine bucket'.format(eventID.split(\":\")[2]), function () { ",
                  "        pm.expect(pm.response.text()).to.include(eventID);",
                  "    });",
                  "    pm.environment.unset(\"bucketObjLink\");",
                  "    pm.environment.unset(\"bucketObjLinks\");",
                  "// check if there are still bucketObjLinks to loop through",
                  "}else if (bucketObjLinks.length > 0) {",
                  "    pm.test('Event {0} is anticipated to be found in {1} attempts'.format(eventID.split(\":\")[2], bucketObjLinks.length), function () { ",
                  "        pm.expect(true).equal(true);",
                  "    });",
                  "  // remove the first element from the bucketObjLinks list",
                  "  // and set it to the bucketObjLink environment variable",
                  "  pm.environment.set(\"bucketObjLink\", bucketObjLinks.shift());",
                  "  // convert bucketObjLinks list to a string and store as",
                  "  // an environment variable",
                  "  pm.environment.set(\"bucketObjLinks\", JSON.stringify(bucketObjLinks));",
                  "  // ",
                  "  postman.setNextRequest(\"E21_get_Obj_content/{{bucketObjLink}}\");",
                  "}else {",
                  "    // no more posts to loop over, clean up ou",
                  "    // environment variables and resume test flow",
                  "    pm.environment.unset(\"bucketObjLink\");",
                  "    pm.environment.unset(\"bucketObjLinks\");",
                  "    pm.test('Event {0} not found in the quarantine bucket'.format(eventID.split(\":\")[2]), function () { ",
                  "        pm.expect(pm.response.text()).to.include(eventID);",
                  "    });",
                  "}",
                  "",
                  "",
                  "",
                  "pm.environment.unset(\"variable_key\");"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{gcp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {},
            "url": {
              "raw": "{{bucketObjLink}}",
              "host": [
                "{{bucketObjLink}}"
              ]
            }
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "8df28d5f-7354-470f-969b-89dc5c457f73",
            "type": "text/javascript",
            "exec": [
              "function parseResp(data){",
              "    msg = jsonData.accepted_events[0];",
              "    idWithUrn = msg.id;",
              "    id=idWithUrn.split(\":\")[2];",
              "    topic = msg.topics;",
              "    return {\"id\":id,\"topic\":topic};",
              "}"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "4a484ba3-3c52-4a5f-98ef-3d482e2c0b42",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "Caliper Compliance",
      "description": "",
      "item": [
        {
          "name": "E-14",
          "description": "",
          "item": [
            {
              "name": "E-14-1",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "396981aa-84cc-4256-94a9-90631bdde146",
                    "type": "text/javascript",
                    "exec": [
                      "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "d436b0c6-7ba5-4fe8-80a0-540acd5d0888",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test('Error Response is of type JSON', function () { ",
                      "    pm.response.to.have.header(\"Content-Type\");",
                      "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                      "});",
                      "",
                      "//{ \"errors\": { \"envelope\": [ \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\" ] } }",
                      "",
                      "pm.test(\"Reponse Body has \\\"sendTime\\\" attribute missing info\", function () {",
                      "    pm.expect(pm.response.text()).to.include('envelope');",
                      "    pm.expect(pm.response.text()).to.include('`sendTime`');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{udp_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \" سعادة\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                  "protocol": "https",
                  "host": [
                    "umich",
                    "caliper",
                    "{{env}}",
                    "cloud",
                    "unizin",
                    "org"
                  ]
                },
                "description": "Send a Caliper envelope that contains sensor, sendTime, dataVersion, data, dataVersion = http://purl.imsglobal.org/ctx/caliper/v1p1 attributes\n\ncase 1: removed \"sendTime\", Pass\n\ncase 2: removed \"sensor\", Pass\n\ncase 3: removed sendTime, sensor, Pass end point with correct list of what is missing from the event envelope\n\ncase 4: modified \"sendTime\": \"2013-08-06T17:33:14.000900Z\" and returns correct error response"
              },
              "response": [
                {
                  "id": "81dfee3a-8b2c-4796-b61e-2eb68aa765c2",
                  "name": "Case 1: Pass",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json",
                        "disabled": false
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"sensor\": \" سعادة\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                    },
                    "url": {
                      "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                      "protocol": "https",
                      "host": [
                        "unizin-udp-data-umich-dev",
                        "appspot",
                        "com"
                      ],
                      "path": [
                        ""
                      ]
                    }
                  },
                  "status": "BAD REQUEST",
                  "code": 400,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Alt-Svc",
                      "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                      "name": "Alt-Svc",
                      "description": "Custom header"
                    },
                    {
                      "key": "Content-Length",
                      "value": "166",
                      "name": "Content-Length",
                      "description": "The length of the response body in octets (8-bit bytes)"
                    },
                    {
                      "key": "Content-Type",
                      "value": "application/json",
                      "name": "Content-Type",
                      "description": "The mime type of this content"
                    },
                    {
                      "key": "Date",
                      "value": "Tue, 03 Apr 2018 15:00:40 GMT",
                      "name": "Date",
                      "description": "The date and time that the message was sent"
                    },
                    {
                      "key": "Server",
                      "value": "gunicorn/19.7.1",
                      "name": "Server",
                      "description": "A name for the server"
                    },
                    {
                      "key": "Via",
                      "value": "1.1 google",
                      "name": "Via",
                      "description": "Informs the client of proxies through which the response was sent."
                    }
                  ],
                  "cookie": [],
                  "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\"\n    ]\n  }\n}\n"
                }
              ]
            },
            {
              "name": "E-14-2",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "396981aa-84cc-4256-94a9-90631bdde146",
                    "type": "text/javascript",
                    "exec": [
                      "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "782e1d85-d496-4692-9d02-1747b83d7c79",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test('Error Response is of type JSON', function () { ",
                      "    pm.response.to.have.header(\"Content-Type\");",
                      "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                      "});",
                      "",
                      "//{ \"errors\": { \"envelope\": [ \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\" ] } }",
                      "",
                      "pm.test(\"Reponse Body has \\\"sensor\\\" attribute missing info\", function () {",
                      "    pm.expect(pm.response.text()).to.include('envelope');",
                      "    pm.expect(pm.response.text()).to.include('`sensor`');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{udp_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                  "protocol": "https",
                  "host": [
                    "umich",
                    "caliper",
                    "{{env}}",
                    "cloud",
                    "unizin",
                    "org"
                  ]
                },
                "description": "Send a Caliper envelope that contains sensor, sendTime, dataVersion, data, dataVersion = http://purl.imsglobal.org/ctx/caliper/v1p1 attributes\n\ncase 1: removed \"sendTime\", Pass\n\ncase 2: removed \"sensor\", Pass\n\ncase 3: removed sendTime, sensor, Pass end point with correct list of what is missing from the event envelope\n\ncase 4: modified \"sendTime\": \"2013-08-06T17:33:14.000900Z\" and returns correct error response"
              },
              "response": [
                {
                  "id": "18356660-09b9-42ed-bff8-0e706d1f448f",
                  "name": "Case 2: Pass",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json",
                        "disabled": false
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                    },
                    "url": {
                      "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                      "protocol": "https",
                      "host": [
                        "unizin-udp-data-umich-dev",
                        "appspot",
                        "com"
                      ],
                      "path": [
                        ""
                      ]
                    }
                  },
                  "status": "BAD REQUEST",
                  "code": 400,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Alt-Svc",
                      "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                      "name": "Alt-Svc",
                      "description": "Custom header"
                    },
                    {
                      "key": "Content-Length",
                      "value": "104",
                      "name": "Content-Length",
                      "description": "The length of the response body in octets (8-bit bytes)"
                    },
                    {
                      "key": "Content-Type",
                      "value": "application/json",
                      "name": "Content-Type",
                      "description": "The mime type of this content"
                    },
                    {
                      "key": "Date",
                      "value": "Tue, 03 Apr 2018 15:05:04 GMT",
                      "name": "Date",
                      "description": "The date and time that the message was sent"
                    },
                    {
                      "key": "Server",
                      "value": "gunicorn/19.7.1",
                      "name": "Server",
                      "description": "A name for the server"
                    },
                    {
                      "key": "Via",
                      "value": "1.1 google",
                      "name": "Via",
                      "description": "Informs the client of proxies through which the response was sent."
                    }
                  ],
                  "cookie": [],
                  "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope must include a `sensor` attribute.\"\n    ]\n  }\n}\n"
                }
              ]
            },
            {
              "name": "E-14-3",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "396981aa-84cc-4256-94a9-90631bdde146",
                    "type": "text/javascript",
                    "exec": [
                      "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "ac657fab-6695-4150-9a7e-af8cc3469095",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test('Error Response is of type JSON', function () { ",
                      "    pm.response.to.have.header(\"Content-Type\");",
                      "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                      "});",
                      "",
                      "//{ \"errors\": { \"envelope\": [ \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\" ] } }",
                      "",
                      "pm.test(\"Reponse Body has \\\"sensor\\\" and \\\"sendTime\\\" attribute missing info\", function () {",
                      "    pm.expect(pm.response.text()).to.include('envelope');",
                      "    pm.expect(pm.response.text()).to.include('`sensor`');",
                      "    pm.expect(pm.response.text()).to.include('`sendTime`');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{udp_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                  "protocol": "https",
                  "host": [
                    "umich",
                    "caliper",
                    "{{env}}",
                    "cloud",
                    "unizin",
                    "org"
                  ]
                },
                "description": "Send a Caliper envelope that contains sensor, sendTime, dataVersion, data, dataVersion = http://purl.imsglobal.org/ctx/caliper/v1p1 attributes\n\ncase 1: removed \"sendTime\", Pass\n\ncase 2: removed \"sensor\", Pass\n\ncase 3: removed sendTime, sensor, Pass end point with correct list of what is missing from the event envelope\n\ncase 4: modified \"sendTime\": \"2013-08-06T17:33:14.000900Z\" and returns correct error response"
              },
              "response": [
                {
                  "id": "04761593-fdc1-41ac-b54b-1cdb29eb42f0",
                  "name": "case 3: Pass",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json",
                        "disabled": false
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                    },
                    "url": {
                      "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                      "protocol": "https",
                      "host": [
                        "unizin-udp-data-umich-dev",
                        "appspot",
                        "com"
                      ],
                      "path": [
                        ""
                      ]
                    }
                  },
                  "status": "BAD REQUEST",
                  "code": 400,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Alt-Svc",
                      "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                      "name": "Alt-Svc",
                      "description": "Custom header"
                    },
                    {
                      "key": "Content-Length",
                      "value": "226",
                      "name": "Content-Length",
                      "description": "The length of the response body in octets (8-bit bytes)"
                    },
                    {
                      "key": "Content-Type",
                      "value": "application/json",
                      "name": "Content-Type",
                      "description": "The mime type of this content"
                    },
                    {
                      "key": "Date",
                      "value": "Tue, 03 Apr 2018 15:08:05 GMT",
                      "name": "Date",
                      "description": "The date and time that the message was sent"
                    },
                    {
                      "key": "Server",
                      "value": "gunicorn/19.7.1",
                      "name": "Server",
                      "description": "A name for the server"
                    },
                    {
                      "key": "Via",
                      "value": "1.1 google",
                      "name": "Via",
                      "description": "Informs the client of proxies through which the response was sent."
                    }
                  ],
                  "cookie": [],
                  "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n      \"Event envelope must include a `sensor` attribute.\"\n    ]\n  }\n}\n"
                }
              ]
            },
            {
              "name": "E-14-4",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "396981aa-84cc-4256-94a9-90631bdde146",
                    "type": "text/javascript",
                    "exec": [
                      "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "25dc1ae3-3918-4dc4-950b-324383b24048",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                      "    pm.response.to.have.status(400);",
                      "});",
                      "",
                      "pm.test('Error Response is of type JSON', function () { ",
                      "    pm.response.to.have.header(\"Content-Type\");",
                      "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                      "});",
                      "",
                      "//{ \"errors\": { \"envelope\": [ \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\" ] } }",
                      "",
                      "pm.test(\"Reponse Body has \\\"sendTime\\\" attribute incorrect format info\", function () {",
                      "    pm.expect(pm.response.text()).to.include('envelope');",
                      "    pm.expect(pm.response.text()).to.include('yyyy-mm-ddThh:mm:ss.SSSZ');",
                      "    pm.expect(pm.response.text()).to.include('`sendTime`');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{udp_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \" سعادة\",\n  \"sendTime\": \"2013-08-06T17:33:14.00000Z\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                  "protocol": "https",
                  "host": [
                    "umich",
                    "caliper",
                    "{{env}}",
                    "cloud",
                    "unizin",
                    "org"
                  ]
                },
                "description": "Send a Caliper envelope that contains sensor, sendTime, dataVersion, data, dataVersion = http://purl.imsglobal.org/ctx/caliper/v1p1 attributes\n\ncase 1: removed \"sendTime\", Pass\n\ncase 2: removed \"sensor\", Pass\n\ncase 3: removed sendTime, sensor, Pass end point with correct list of what is missing from the event envelope\n\ncase 4: modified \"sendTime\": \"2013-08-06T17:33:14.000900Z\" and returns correct error response"
              },
              "response": []
            }
          ],
          "_postman_isSubFolder": true
        },
        {
          "name": "E-15 sending multiple event in an envelope",
          "description": "",
          "item": [
            {
              "name": "E-15_with_Rounting_test",
              "description": "",
              "item": [
                {
                  "name": "E-15_call_to_udp_mutiple_events",
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "ca0af056-ecc4-477f-9e78-b38e84d9a0bf",
                        "type": "text/javascript",
                        "exec": [
                          "eval(pm.variables.get('initRequest'));",
                          "var uuid = require('uuid');",
                          "for (i=1 ; i<6;i++){",
                          "    pm.environment.set('eventId'+i, 'urn:uuid:' + uuid.v4());",
                          "}"
                        ]
                      }
                    },
                    {
                      "listen": "test",
                      "script": {
                        "id": "6e461c1c-2931-4215-9be9-8d3a78c3e921",
                        "type": "text/javascript",
                        "exec": [
                          "pm.test('Response from UDP: 200 OK', function () {",
                          "    pm.response.to.have.status(200);",
                          "});",
                          "",
                          "var resp = pm.expect(pm.response);",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    resp.ok;",
                          "    resp.header('content-type');",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "    resp.json; ",
                          "});",
                          "",
                          "// checking if all the events rounted to correct google pub/sub topic and correct id is returned for an event",
                          "events = pm.response.json().accepted_events;",
                          "",
                          "pm.test('UDP accepted all events', function () { ",
                          "    pm.expect(5).equal(events.length);",
                          "});",
                          "",
                          "var expectedGQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                          "var expectedSQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                          "for(var i = 0, size = events.length; i < size ; i++){",
                          "    var udpQueueId = events[i].id ;",
                          "    var udpQueueName =Object.keys(events[i].topics).toString() ;",
                          "    var isSilverTier = udpQueueName.includes('silver');",
                          "    var expectedQName = (isSilverTier)? expectedSQName: expectedGQName;",
                          "    var tierName=(isSilverTier)?'Silver':'Gold';",
                          "    var tierCheck = \"UDP accepted LC event in \\\"{0}\\\" queue and id: \\\"{1}\\\" matches for each event\".format(tierName,udpQueueId);",
                          "    var eventId = 'eventId'+(i+1);",
                          "    pm.test(tierCheck, function() {",
                          "         pm.expect(expectedQName).equal(udpQueueName);",
                          "         pm.expect(udpQueueId).equal(pm.environment.get(eventId));",
                          "    });",
                          "    ",
                          "}",
                          "eventid = pm.environment.get(\"eventId1\").split(\":\")[2];",
                          "var bq = pm.environment.set(\"bq\",eventid);",
                          "// delying for 30 sec and then query BQ",
                          "delayRequestToBigQuery();",
                          "",
                          "function delayRequestToBigQuery() {",
                          "    setTimeout(function () {",
                          "        console.log(\"waiting here for 30 seconds before making BQ call\");",
                          "    },30000);",
                          "}",
                          "",
                          "",
                          "",
                          "",
                          "",
                          ""
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{udp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId3}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Resumed\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"name\": \"Macromolecules\",\n                \"type\": \"VideoObject\",\n                \"duration\": \"PT1158.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"name\": \"Lecture recorded on 10/01/2017\",\n                \"dateCreated\": \"2017-10-01T19:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"currentTime\": \"PT367.486S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:0D8cFa4c5D34C5BB4EF\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:f996Bfeb81c8FC3317965cFb0B9D80FBbB0Ead\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId4}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Started\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\",\n                \"type\": \"VideoObject\",\n                \"name\": \"kinetic energy\",\n                \"dateCreated\": \"2017-09-26T17:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"duration\": \"PT3829.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-08-31T15:10:10.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT0.000S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:Bd57ad64dc9b7a9cd7B\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e6EA326Fd52A13a025dDdb24Ff7C8F1B5a5Ba8\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        }, {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId5}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n        \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"type\":\"Person\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n        \n    ]\n}"
                    },
                    "url": {
                      "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                      "protocol": "https",
                      "host": [
                        "umich",
                        "caliper",
                        "{{env}}",
                        "cloud",
                        "unizin",
                        "org"
                      ]
                    },
                    "description": "Send a Caliper envelope with more than one event\n\nCase 1: Sending multiple events in one envelope with correct payload + envelope attributes, Pass\n\nCase 2: one event in the list is don't compliance, endpoint responded with 202 and correctly identifying the error. All the compliant events found in the BQ and not the incorrect one\n\nCase 3: From bunch of events one event is Silver tier event and rest Gold Tier events and end point responded with correct routing info in the Response body. This case might not happen often but it is good to see that UDP pipeline is handling this."
                  },
                  "response": [
                    {
                      "id": "963130dd-8a8c-44a1-a676-723ef4449914",
                      "name": "Case 1: Pass",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "value": "application/json",
                            "disabled": false
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Resumed\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"name\": \"Macromolecules\",\n                \"type\": \"VideoObject\",\n                \"duration\": \"PT1158.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"name\": \"Lecture recorded on 10/01/2017\",\n                \"dateCreated\": \"2017-10-01T19:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"currentTime\": \"PT367.486S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:0D8cFa4c5D34C5BB4EF\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:f996Bfeb81c8FC3317965cFb0B9D80FBbB0Ead\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId3}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Started\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\",\n                \"type\": \"VideoObject\",\n                \"name\": \"kinetic energy\",\n                \"dateCreated\": \"2017-09-26T17:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"duration\": \"PT3829.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-08-31T15:10:10.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT0.000S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:Bd57ad64dc9b7a9cd7B\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e6EA326Fd52A13a025dDdb24Ff7C8F1B5a5Ba8\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },{\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId4}}\",\n            \"type\": \"SessionEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"LoggedIn\",\n            \"object\": \"https://leccap.engin.umich.edu/leccap/\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:8eCe92cdA7dBF4944FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e458c9C9002DE62fFA49aCb2CAAeAaaDF1f5cA\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        }\n    ]\n}"
                        },
                        "url": {
                          "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                          "protocol": "https",
                          "host": [
                            "unizin-udp-data-umich-dev",
                            "appspot",
                            "com"
                          ],
                          "path": [
                            ""
                          ]
                        }
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "json",
                      "header": [
                        {
                          "key": "Alt-Svc",
                          "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                          "name": "Alt-Svc",
                          "description": "Custom header"
                        },
                        {
                          "key": "Content-Encoding",
                          "value": "gzip",
                          "name": "Content-Encoding",
                          "description": "The type of encoding used on the data."
                        },
                        {
                          "key": "Content-Type",
                          "value": "application/json",
                          "name": "Content-Type",
                          "description": "The mime type of this content"
                        },
                        {
                          "key": "Date",
                          "value": "Tue, 03 Apr 2018 15:32:06 GMT",
                          "name": "Date",
                          "description": "The date and time that the message was sent"
                        },
                        {
                          "key": "Server",
                          "value": "gunicorn/19.7.1",
                          "name": "Server",
                          "description": "A name for the server"
                        },
                        {
                          "key": "Transfer-Encoding",
                          "value": "chunked",
                          "name": "Transfer-Encoding",
                          "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                        },
                        {
                          "key": "Vary",
                          "value": "Accept-Encoding",
                          "name": "Vary",
                          "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                        },
                        {
                          "key": "Via",
                          "value": "1.1 google",
                          "name": "Via",
                          "description": "Informs the client of proxies through which the response was sent."
                        }
                      ],
                      "cookie": [],
                      "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:f22c1e79-c5d5-44c9-9101-ecc540b37b2e\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66529804005722\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:eafb0d25-791a-45b7-8c68-89e268f45fdc\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66532727767125\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:683169a8-5eee-4c20-b132-60864368ea5f\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66528132481049\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:5b51392d-c806-4b9b-b61c-188aece0ddd1\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66528500876488\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:26e4434f-b4a4-4ae1-b910-38c9cb0165e2\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66528232635189\"\n      }\n    }\n  ]\n}\n"
                    },
                    {
                      "id": "30a6a6f2-6fc0-43b6-8350-9ae7c88a1fa3",
                      "name": "Case 2: pass",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "value": "application/json",
                            "disabled": false
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Resumed\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"name\": \"Macromolecules\",\n                \"type\": \"VideoObject\",\n                \"duration\": \"PT1158.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"name\": \"Lecture recorded on 10/01/2017\",\n                \"dateCreated\": \"2017-10-01T19:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"currentTime\": \"PT367.486S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:0D8cFa4c5D34C5BB4EF\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:f996Bfeb81c8FC3317965cFb0B9D80FBbB0Ead\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId3}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Started\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\",\n                \"type\": \"VideoObject\",\n                \"name\": \"kinetic energy\",\n                \"dateCreated\": \"2017-09-26T17:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"duration\": \"PT3829.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-08-31T15:10:10.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT0.000S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:Bd57ad64dc9b7a9cd7B\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e6EA326Fd52A13a025dDdb24Ff7C8F1B5a5Ba8\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },{\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId4}}\",\n            \"type\": \"SessionEvent\",\n            \"action\": \"LoggedIn\",\n            \"object\": \"https://leccap.engin.umich.edu/leccap/\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:8eCe92cdA7dBF4944FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e458c9C9002DE62fFA49aCb2CAAeAaaDF1f5cA\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        }\n    ]\n}"
                        },
                        "url": {
                          "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                          "protocol": "https",
                          "host": [
                            "unizin-udp-data-umich-dev",
                            "appspot",
                            "com"
                          ],
                          "path": [
                            ""
                          ]
                        }
                      },
                      "status": "ACCEPTED",
                      "code": 202,
                      "_postman_previewlanguage": "json",
                      "header": [
                        {
                          "key": "Alt-Svc",
                          "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                          "name": "Alt-Svc",
                          "description": "Custom header"
                        },
                        {
                          "key": "Content-Length",
                          "value": "1028",
                          "name": "Content-Length",
                          "description": "The length of the response body in octets (8-bit bytes)"
                        },
                        {
                          "key": "Content-Type",
                          "value": "application/json",
                          "name": "Content-Type",
                          "description": "The mime type of this content"
                        },
                        {
                          "key": "Date",
                          "value": "Tue, 03 Apr 2018 15:32:41 GMT",
                          "name": "Date",
                          "description": "The date and time that the message was sent"
                        },
                        {
                          "key": "Server",
                          "value": "gunicorn/19.7.1",
                          "name": "Server",
                          "description": "A name for the server"
                        },
                        {
                          "key": "Via",
                          "value": "1.1 google",
                          "name": "Via",
                          "description": "Informs the client of proxies through which the response was sent."
                        }
                      ],
                      "cookie": [],
                      "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:5b44a24b-f40a-4c43-9774-8160f7eef7d6\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66524842439276\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:3e1eb4d4-8bf6-4ad6-a7b4-88b4fd8f83a5\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66532239206224\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:95257649-ab28-47b5-9e25-9b35f18e838b\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66521279176853\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:a51e10a1-4d79-4c88-ae98-697a9bdecb7d\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66529742710422\"\n      }\n    }\n  ], \n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `actor` attribute must an object or string.\"\n        ], \n        \"id\": \"urn:uuid:f70b4550-4bd0-47e8-8e37-748860181c00\", \n        \"index\": 4\n      }\n    ]\n  }\n}\n"
                    },
                    {
                      "id": "817ad34d-1e44-4130-bec2-4bb1458e42ca",
                      "name": "Case 3: Pass",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "value": "application/json",
                            "disabled": false
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Resumed\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"name\": \"Macromolecules\",\n                \"type\": \"VideoObject\",\n                \"duration\": \"PT1158.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"name\": \"Lecture recorded on 10/01/2017\",\n                \"dateCreated\": \"2017-10-01T19:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"currentTime\": \"PT367.486S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:0D8cFa4c5D34C5BB4EF\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:f996Bfeb81c8FC3317965cFb0B9D80FBbB0Ead\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId3}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Started\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\",\n                \"type\": \"VideoObject\",\n                \"name\": \"kinetic energy\",\n                \"dateCreated\": \"2017-09-26T17:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"duration\": \"PT3829.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-08-31T15:10:10.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT0.000S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:Bd57ad64dc9b7a9cd7B\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e6EA326Fd52A13a025dDdb24Ff7C8F1B5a5Ba8\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        }, {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId4}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n        \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"type\":\"Person\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n        \n    ]\n}"
                        },
                        "url": {
                          "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                          "protocol": "https",
                          "host": [
                            "unizin-udp-data-umich-dev",
                            "appspot",
                            "com"
                          ],
                          "path": [
                            ""
                          ]
                        }
                      },
                      "status": "OK",
                      "code": 200,
                      "_postman_previewlanguage": "json",
                      "header": [
                        {
                          "key": "Alt-Svc",
                          "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                          "name": "Alt-Svc",
                          "description": "Custom header"
                        },
                        {
                          "key": "Content-Encoding",
                          "value": "gzip",
                          "name": "Content-Encoding",
                          "description": "The type of encoding used on the data."
                        },
                        {
                          "key": "Content-Type",
                          "value": "application/json",
                          "name": "Content-Type",
                          "description": "The mime type of this content"
                        },
                        {
                          "key": "Date",
                          "value": "Tue, 03 Apr 2018 15:41:29 GMT",
                          "name": "Date",
                          "description": "The date and time that the message was sent"
                        },
                        {
                          "key": "Server",
                          "value": "gunicorn/19.7.1",
                          "name": "Server",
                          "description": "A name for the server"
                        },
                        {
                          "key": "Transfer-Encoding",
                          "value": "chunked",
                          "name": "Transfer-Encoding",
                          "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                        },
                        {
                          "key": "Vary",
                          "value": "Accept-Encoding",
                          "name": "Vary",
                          "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                        },
                        {
                          "key": "Via",
                          "value": "1.1 google",
                          "name": "Via",
                          "description": "Informs the client of proxies through which the response was sent."
                        }
                      ],
                      "cookie": [],
                      "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:6eadf11a-5ecb-4f5c-9069-fa4694ddf8f8\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66538175165332\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:335c5920-b695-454f-b521-05a112835435\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66537249344555\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:f2394a81-71dc-407b-98a2-a2f74ef3293f\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66536747317716\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:95a793b6-212f-4130-a70a-90cb41c0b231\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66537540541675\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:626e9be9-bbbe-4149-b76c-97a459a26ec0\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66541134238310\"\n      }\n    }\n  ]\n}\n"
                    }
                  ]
                },
                {
                  "name": "E15_call_to_bq_event_1",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "9cdb90b6-bfb3-4b17-9a5e-525211d79dfd",
                        "type": "text/javascript",
                        "exec": [
                          "var resp = pm.response;",
                          "pm.test('Response from BQ: 200 OK', function () {",
                          "    if(pm.response.code == 200){",
                          "        console.log(\"Happy response from BQ\");",
                          "        pm.expect(pm.response.code).to.equal(200);",
                          "    }else{",
                          "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                          "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                          "    }",
                          "});",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "});",
                          "var bq = pm.environment.get(\"bq\");",
                          "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                          "",
                          "pm.test(gtBQCheck, function () {",
                          "    var bqRes = resp.json();",
                          "    var tableRows = bqRes.rows[0];",
                          "    var tableId=tableRows.f[0].v;",
                          "    pm.expect((tableId)).to.equal(bq);",
                          "});"
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{gcp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
                    },
                    "url": {
                      "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
                      "protocol": "https",
                      "host": [
                        "www",
                        "googleapis",
                        "com"
                      ],
                      "path": [
                        "bigquery",
                        "v2",
                        "projects",
                        "unizin-udp-data-umich-dev",
                        "queries"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "E15_call_to_bq_event_2",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "9cdb90b6-bfb3-4b17-9a5e-525211d79dfd",
                        "type": "text/javascript",
                        "exec": [
                          "var resp = pm.response;",
                          "pm.test('Response from BQ: 200 OK', function () {",
                          "    if(pm.response.code == 200){",
                          "        console.log(\"Happy response from BQ\");",
                          "        pm.expect(pm.response.code).to.equal(200);",
                          "    }else{",
                          "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                          "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                          "    }",
                          "});",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "});",
                          "var bq = pm.environment.get(\"bq\");",
                          "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                          "",
                          "pm.test(gtBQCheck, function () {",
                          "    var bqRes = resp.json();",
                          "    var tableRows = bqRes.rows[0];",
                          "    var tableId=tableRows.f[0].v;",
                          "    pm.expect((tableId)).to.equal(bq);",
                          "});"
                        ]
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "51c37444-24cf-4be6-bf0c-efa295c95fdd",
                        "type": "text/javascript",
                        "exec": [
                          "eventid = pm.environment.get(\"eventId2\").split(\":\")[2];",
                          "var bq = pm.environment.set(\"bq\",eventid);"
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{gcp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
                    },
                    "url": {
                      "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
                      "protocol": "https",
                      "host": [
                        "www",
                        "googleapis",
                        "com"
                      ],
                      "path": [
                        "bigquery",
                        "v2",
                        "projects",
                        "unizin-udp-data-umich-dev",
                        "queries"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "E15_call_to_bq_event_3",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "9cdb90b6-bfb3-4b17-9a5e-525211d79dfd",
                        "type": "text/javascript",
                        "exec": [
                          "var resp = pm.response;",
                          "pm.test('Response from BQ: 200 OK', function () {",
                          "    if(pm.response.code == 200){",
                          "        console.log(\"Happy response from BQ\");",
                          "        pm.expect(pm.response.code).to.equal(200);",
                          "    }else{",
                          "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                          "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                          "    }",
                          "});",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "});",
                          "var bq = pm.environment.get(\"bq\");",
                          "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                          "",
                          "pm.test(gtBQCheck, function () {",
                          "    var bqRes = resp.json();",
                          "    var tableRows = bqRes.rows[0];",
                          "    var tableId=tableRows.f[0].v;",
                          "    pm.expect((tableId)).to.equal(bq);",
                          "});"
                        ]
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "3cc66027-dfeb-4d8a-8c8f-1bb90840a6c6",
                        "type": "text/javascript",
                        "exec": [
                          "eventid = pm.environment.get(\"eventId3\").split(\":\")[2];",
                          "var bq = pm.environment.set(\"bq\",eventid);"
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{gcp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
                    },
                    "url": {
                      "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
                      "protocol": "https",
                      "host": [
                        "www",
                        "googleapis",
                        "com"
                      ],
                      "path": [
                        "bigquery",
                        "v2",
                        "projects",
                        "unizin-udp-data-umich-dev",
                        "queries"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "E15_call_to_bq_event_4",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "9cdb90b6-bfb3-4b17-9a5e-525211d79dfd",
                        "type": "text/javascript",
                        "exec": [
                          "var resp = pm.response;",
                          "pm.test('Response from BQ: 200 OK', function () {",
                          "    if(pm.response.code == 200){",
                          "        console.log(\"Happy response from BQ\");",
                          "        pm.expect(pm.response.code).to.equal(200);",
                          "    }else{",
                          "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                          "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                          "    }",
                          "});",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "});",
                          "var bq = pm.environment.get(\"bq\");",
                          "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                          "",
                          "pm.test(gtBQCheck, function () {",
                          "    var bqRes = resp.json();",
                          "    var tableRows = bqRes.rows[0];",
                          "    var tableId=tableRows.f[0].v;",
                          "    pm.expect((tableId)).to.equal(bq);",
                          "});"
                        ]
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "fbb289b3-75f2-479b-8952-120fd4450bff",
                        "type": "text/javascript",
                        "exec": [
                          "eventid = pm.environment.get(\"eventId4\").split(\":\")[2];",
                          "var bq = pm.environment.set(\"bq\",eventid);"
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{gcp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
                    },
                    "url": {
                      "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
                      "protocol": "https",
                      "host": [
                        "www",
                        "googleapis",
                        "com"
                      ],
                      "path": [
                        "bigquery",
                        "v2",
                        "projects",
                        "unizin-udp-data-umich-dev",
                        "queries"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "E15_call_to_bq_event_5",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "id": "9cdb90b6-bfb3-4b17-9a5e-525211d79dfd",
                        "type": "text/javascript",
                        "exec": [
                          "var resp = pm.response;",
                          "pm.test('Response from BQ: 200 OK', function () {",
                          "    if(pm.response.code == 200){",
                          "        console.log(\"Happy response from BQ\");",
                          "        pm.expect(pm.response.code).to.equal(200);",
                          "    }else{",
                          "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                          "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                          "    }",
                          "});",
                          "",
                          "pm.test('Response is JSON: OK to process', function () { ",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "});",
                          "var bq = pm.environment.get(\"bq\");",
                          "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                          "",
                          "pm.test(gtBQCheck, function () {",
                          "    var bqRes = resp.json();",
                          "    var tableRows = bqRes.rows[0];",
                          "    var tableId=tableRows.f[0].v;",
                          "    pm.expect((tableId)).to.equal(bq);",
                          "});"
                        ]
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "e7e704c0-b765-4593-8de1-798d52133c00",
                        "type": "text/javascript",
                        "exec": [
                          "eventid = pm.environment.get(\"eventId5\").split(\":\")[2];",
                          "var bq = pm.environment.set(\"bq\",eventid);"
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{gcp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
                    },
                    "url": {
                      "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
                      "protocol": "https",
                      "host": [
                        "www",
                        "googleapis",
                        "com"
                      ],
                      "path": [
                        "bigquery",
                        "v2",
                        "projects",
                        "unizin-udp-data-umich-dev",
                        "queries"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "E-15_call_to_udp_mutiple_events_error_case",
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "id": "9161cc70-7a1c-4d90-a641-4e58ea9794bb",
                        "type": "text/javascript",
                        "exec": [
                          "eval(pm.variables.get('initRequest'));",
                          "var uuid = require('uuid');",
                          "for (i=1 ; i<4;i++){",
                          "    pm.environment.set('eventId'+i, 'urn:uuid:' + uuid.v4());",
                          "}"
                        ]
                      }
                    },
                    {
                      "listen": "test",
                      "script": {
                        "id": "390a6352-03c2-4230-9f2f-be8731f2222f",
                        "type": "text/javascript",
                        "exec": [
                          "pm.test('Response from UDP: 202 OK', function () {",
                          "    pm.response.to.have.status(202);",
                          "});",
                          "",
                          "var resp = pm.expect(pm.response);",
                          "",
                          "pm.test('Response is Accepted with error in the response', function () { ",
                          "    resp.accepted;",
                          "    resp.header('content-type');",
                          "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                          "    resp.json; ",
                          "});",
                          "",
                          "events = pm.response.json().accepted_events;",
                          "",
                          "pm.test('UDP did not accept all events', function () { ",
                          "    pm.expect(3).not.equal(events.length);",
                          "});",
                          "// checking if all the events routed to correct google pub/sub topic and correct id is returned for an event",
                          "var expectedGQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                          "var expectedSQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                          "for(var i = 0, size = events.length; i < size ; i++){",
                          "    var udpQueueId = events[i].id ;",
                          "    var udpQueueName =Object.keys(events[i].topics).toString() ;",
                          "    var isSilverTier = udpQueueName.includes('silver');",
                          "    var expectedQName = (isSilverTier)? expectedSQName: expectedGQName;",
                          "    var tierName=(isSilverTier)?'Silver':'Gold';",
                          "    var tierCheck = \"UDP accepted LC event in \\\"{0}\\\" queue and id: \\\"{1}\\\" matches for each event\".format(tierName,udpQueueId);",
                          "    var eventId = 'eventId'+(i+1);",
                          "    pm.test(tierCheck, function() {",
                          "         pm.expect(expectedQName).equal(udpQueueName);",
                          "         pm.expect(udpQueueId).equal(pm.environment.get(eventId));",
                          "    });",
                          "    ",
                          "}",
                          "",
                          "error_path = pm.response.json().errors;",
                          "error_event_id=error_path.events[0].id;",
                          "expected_event_id = pm.environment.get(\"eventId3\");",
                          "errorCheck = 'UDP correctly identifed  event {0} has errors'.format(error_event_id);",
                          "",
                          "pm.test(errorCheck, function() {",
                          "    pm.expect(expected_event_id).equal(error_event_id);",
                          "});",
                          "",
                          "",
                          ""
                        ]
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{udp_token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n      }, \n      {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId3}}\",\n      \"type\": \"MediaEvent\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n        \n    ]\n}"
                    },
                    "url": {
                      "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
                      "protocol": "https",
                      "host": [
                        "umich",
                        "caliper",
                        "{{env}}",
                        "cloud",
                        "unizin",
                        "org"
                      ]
                    },
                    "description": "Send a Caliper envelope with more than one event\n\nCase 1: Sending multiple events in one envelope with correct payload + envelope attributes, Pass\n\nCase 2: one event in the list is don't compliance, endpoint responded with 202 and correctly identifying the error. All the compliant events found in the BQ and not the incorrect one\n\nCase 3: From bunch of events one event is Silver tier event and rest Gold Tier events and end point responded with correct routing info in the Response body. This case might not happen often but it is good to see that UDP pipeline is handling this."
                  },
                  "response": [
                    {
                      "id": "fa63d20c-1167-4885-97df-3d648de34508",
                      "name": "Case 2: pass",
                      "originalRequest": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Content-Type",
                            "value": "application/json",
                            "disabled": false
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\n    \"sensor\": \"https://example.edu/sensors/1\",\n    \"sendTime\": \"{{timestampUtcIso8601}}\",\n    \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n    \"data\": [\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Ended\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"type\": \"VideoObject\",\n                \"name\": \"Macromolecules\",\n                \"dateCreated\": \"2017-09-27T14:08:00.000Z\",\n                \"dateModified\": \"2017-10-02T14:48:30.000Z\",\n                \"duration\": \"PT5129.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-09-01T21:47:18.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT764.403S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:9309BCDC914ebcAa1FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:5D8b772d73aBeaBDdBFdF190c278e75e955a63\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId1}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Paused\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\",\n                \"type\": \"VideoObject\",\n                \"name\": \"potential energy\",\n                \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n                \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n                \"duration\": \"PT7802.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT114.619S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/ftmY7G\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:768b4cd1BbfD7961576\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:a19da5AC2ecb5A3c7EdfC4DC7a2ADdd7CFD2af\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId2}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Resumed\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\",\n                \"name\": \"Macromolecules\",\n                \"type\": \"VideoObject\",\n                \"duration\": \"PT1158.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"name\": \"Lecture recorded on 10/01/2017\",\n                \"dateCreated\": \"2017-10-01T19:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"currentTime\": \"PT367.486S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/Lhfl0a\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:0D8cFa4c5D34C5BB4EF\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/6cbf6ghw4021r2k0dgz#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:f996Bfeb81c8FC3317965cFb0B9D80FBbB0Ead\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },\n        {\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId3}}\",\n            \"type\": \"MediaEvent\",\n            \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n            \"action\": \"Started\",\n            \"object\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\",\n                \"type\": \"VideoObject\",\n                \"name\": \"kinetic energy\",\n                \"dateCreated\": \"2017-09-26T17:08:04.000Z\",\n                \"dateModified\": \"2017-10-01T21:29:03.000Z\",\n                \"duration\": \"PT3829.000S\",\n                \"isPartOf\": {\n                    \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n                    \"type\": \"WebPage\",\n                    \"name\": \"COURSE 101 003 FA 2015\",\n                    \"dateCreated\": \"2017-08-31T15:10:10.000Z\"\n                }\n            },\n            \"target\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp#type=MediaLocation\",\n                \"type\": \"MediaLocation\",\n                \"currentTime\": \"PT0.000S\",\n                \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/DOUPtp\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:Bd57ad64dc9b7a9cd7B\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e6EA326Fd52A13a025dDdb24Ff7C8F1B5a5Ba8\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        },{\n            \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n            \"id\": \"{{eventId4}}\",\n            \"type\": \"SessionEvent\",\n            \"action\": \"LoggedIn\",\n            \"object\": \"https://leccap.engin.umich.edu/leccap/\",\n            \"session\": {\n                \"id\": \"urn:umich:engin:leccap:session:8eCe92cdA7dBF4944FB\",\n                \"type\": \"Session\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n            },\n            \"eventTime\": \"{{timestampUtcIso8601}}\",\n            \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n            \"group\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"type\": \"CourseOffering\",\n                \"courseNumber\": \"COURSE 101 003 FA 2015\",\n                \"academicSession\": \"FA 2017\"\n            },\n            \"membership\": {\n                \"id\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#Membership&member={{udp_uniqname}}\",\n                \"type\": \"Membership\",\n                \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"organization\": \"https://leccap.engin.umich.edu/leccap/site/iosb1eezb220x49khge#CourseOffering\",\n                \"roles\": [\n                    \"Learner\"\n                ],\n                \"status\": \"Active\"\n            },\n            \"federatedSession\": {\n                \"id\": \"urn:instructure:canvas:umich:session:e458c9C9002DE62fFA49aCb2CAAeAaaDF1f5cA\",\n                \"type\": \"LtiSession\",\n                \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n                \"messageParameters\": {\n                    \"custom_canvas_course_id\": \"65745\",\n                    \"custom_canvas_user_id\": \"115260\",\n                    \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n                    \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n                    \"resource_link_id\": \"9a17100e4c806512a4a34b20d61dd8786d2c9826\"\n                }\n            }\n        }\n    ]\n}"
                        },
                        "url": {
                          "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                          "protocol": "https",
                          "host": [
                            "unizin-udp-data-umich-dev",
                            "appspot",
                            "com"
                          ],
                          "path": [
                            ""
                          ]
                        }
                      },
                      "status": "ACCEPTED",
                      "code": 202,
                      "_postman_previewlanguage": "json",
                      "header": [
                        {
                          "key": "Alt-Svc",
                          "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                          "name": "Alt-Svc",
                          "description": "Custom header"
                        },
                        {
                          "key": "Content-Length",
                          "value": "1028",
                          "name": "Content-Length",
                          "description": "The length of the response body in octets (8-bit bytes)"
                        },
                        {
                          "key": "Content-Type",
                          "value": "application/json",
                          "name": "Content-Type",
                          "description": "The mime type of this content"
                        },
                        {
                          "key": "Date",
                          "value": "Tue, 03 Apr 2018 15:32:41 GMT",
                          "name": "Date",
                          "description": "The date and time that the message was sent"
                        },
                        {
                          "key": "Server",
                          "value": "gunicorn/19.7.1",
                          "name": "Server",
                          "description": "A name for the server"
                        },
                        {
                          "key": "Via",
                          "value": "1.1 google",
                          "name": "Via",
                          "description": "Informs the client of proxies through which the response was sent."
                        }
                      ],
                      "cookie": [],
                      "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:5b44a24b-f40a-4c43-9774-8160f7eef7d6\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66524842439276\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:3e1eb4d4-8bf6-4ad6-a7b4-88b4fd8f83a5\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66532239206224\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:95257649-ab28-47b5-9e25-9b35f18e838b\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66521279176853\"\n      }\n    }, \n    {\n      \"id\": \"urn:uuid:a51e10a1-4d79-4c88-ae98-697a9bdecb7d\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66529742710422\"\n      }\n    }\n  ], \n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `actor` attribute must an object or string.\"\n        ], \n        \"id\": \"urn:uuid:f70b4550-4bd0-47e8-8e37-748860181c00\", \n        \"index\": 4\n      }\n    ]\n  }\n}\n"
                    }
                  ]
                }
              ],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "908e1960-bc10-43fc-8d91-3959d82bf785",
                    "type": "text/javascript",
                    "exec": [
                      "eval(pm.variables.get('initRequest'));"
                    ]
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "d90ac4ca-f5f6-41a3-90bc-3445547a33c6",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ]
                  }
                }
              ],
              "_postman_isSubFolder": true
            }
          ],
          "_postman_isSubFolder": true
        },
        {
          "name": "E-01",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "bba24f4a-0b13-4abc-a15d-3bce551d7ca2",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9b026c24-9470-4d33-a178-41941482b235",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP with No envelope sent: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a naked event over HTTPS (sans envelope)\n\nThe test passed had a 400 response code"
          },
          "response": [
            {
              "id": "65b1efe4-c462-40f7-8c55-fbe4c77c76ce",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "432",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:27:36 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `data` attribute must be an array with at least one element.\", \n      \"Event envelope `dataVersion` attribute must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\", \n      \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n      \"Event envelope must include a `sensor` attribute.\"\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-02",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "bba24f4a-0b13-4abc-a15d-3bce551d7ca2",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"2018-02-09T17:32:03.867Z\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": []\n}"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send an empty event envelope over HTTPS\n\nI am not sure empty envelope means so I assumed it as event with only envelope with empty payload.\n\nThis is failing with 400, to me this is a ping (with a token) to test out connectivity to endpoint with empty payload. UDP can return with empty reponse like {}"
          },
          "response": [
            {
              "id": "653e5bdc-4f52-40ef-b975-a642c02eff2c",
              "name": "Fail",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"2018-02-09T17:32:03.867Z\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": []\n}"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "130",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:31:55 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `data` attribute must be an array with at least one element.\"\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-03",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8ff63ed3-0754-49a6-8203-a84a1138ba56",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest'));"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a2492a34-c7a1-4153-9bd6-61328b563769",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send an event with a valid OAUTH2 token"
          },
          "response": [
            {
              "id": "778cf80f-c417-4389-966f-132fb815dcd9",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:33:09 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:b19f86df-c699-4a30-8e5e-994035638c07\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66468010493473\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-04",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4904a88b-7fe2-45e1-8232-0789e173a9df",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8e7cbe60-3570-470b-97f9-ef251e2b8a26",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP with no OAuth token: 401', function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "pm.test(\"401 failure is due to Bearer token missing\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"Bearer token missing or not recognized\");",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send an event without an OAUTH2 token"
          },
          "response": [
            {
              "id": "20ca556e-2f86-45b6-96cf-164a0ac723ff",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "UNAUTHORIZED",
              "code": 401,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "78",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:34:04 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Unauthorized\", \"message\": \"Bearer token missing or not recognized\"}"
            }
          ]
        },
        {
          "name": "E-05",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6dd48028-c71e-4ed9-89b7-25b74040e533",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest'));"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "fd7f62c2-a991-4ab2-a669-9f4215dd53b0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP with incorrect OAuth token: 401', function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "pm.test(\"401 failure is due to Bearer token incorrect\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"Bearer token missing or not recognized\");",
                  "});",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "fake_token",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  "
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send an event with an invalid OAUTH2 token"
          },
          "response": [
            {
              "id": "98835779-38ed-482d-b83b-ec510bab4d1b",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"target\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8#type=MediaLocation\",\n        \"type\": \"MediaLocation\",\n        \"currentTime\": \"PT4540.137S\",\n        \"isPartOf\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\"\n      },\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"session\": {\n        \"id\": \"urn:umich:engin:leccap:session:nce9sqls42sps6sg9mkuvb8os6\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"startedAtTime\": \"{{timestampUtcIso8601}}\"\n      },\n      \"group\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew#type=CourseOffering\",\n        \"type\": \"CourseOffering\",\n        \"courseNumber\": \"BIOLOGY 172 003 / BIOLOGY 172 004\",\n        \"academicSession\": \"FA 2017\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n\t\t\"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n\t\t\"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n\t\t\"roles\": [\n    \t \"Learner\"\n\t\t ],\n    \t\"status\": \"Active\",\n    \t\"type\": \"Membership\"\n      },\n      \"federatedSession\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n\t    \"messageParameters\": {\n\t      \"custom_canvas_course_id\": \"211644\",\n\t      \"custom_canvas_user_id\": \"151503\",\n\t      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n\t      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n\t      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n\t    },\n\t    \"type\": \"LtiSession\",\n\t    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n    }\n  "
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "UNAUTHORIZED",
              "code": 401,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "78",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:34:35 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Unauthorized\", \"message\": \"Bearer token missing or not recognized\"}"
            }
          ]
        },
        {
          "name": "E-09",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "9b04ea01-87c6-42bd-ba53-3688f08fe2d3",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest'));"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f3c257e1-5ab1-40f3-90c3-e479858418cc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "",
                  "var gtCheck = \"UDP accepted LC bare minimum event in \\\"silver\\\" queue with id: \\\"{0}\\\" \".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that contains \n`@context = http://purl.imsglobal.org/ctx/caliper/v1p1`, `id`, `type` (valid string from a fixed vocabulary), `actor` (id and type attributes), `action` (valid string from a fixed vocabulary), \n`object`, `eventTime` (ISO 8601 format) inside of an envelope"
          },
          "response": [
            {
              "id": "5f45b7eb-da11-4d63-b5c9-276f7c75d724",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:36:11 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:a2a7f420-5a9e-4cc4-a346-932740bb0f91\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66468259564861\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-09 -2",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3dbc9260-5ef2-4bdb-be2d-a635e8ee8a5a",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "38e3a3d5-d726-4778-8a9b-6ce2dcb2a4c1",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP with No envelope sent: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"envelope\": [ \"Event envelope `data` attribute must be an array with at least one element.\", \"Event envelope `dataVersion` attribute must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\", \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \"Event envelope must include a `sensor` attribute.\" ] } }",
                  "pm.test('UDP validated correctly with missing envelope info', function(){",
                  "    var jsonData = pm.response.json();",
                  "    var envelopeKey = Object.keys(jsonData.errors)[0];",
                  "    var envelopeValueList = Object.values(jsonData.errors)[0];",
                  "    pm.expect(envelopeKey).to.include(\"envelope\");",
                  "    pm.expect(envelopeValueList.length).gt(0);",
                  "    ",
                  "});",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n}\n     "
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "TestCase: Send a Caliper event that contains \n\n`@context = http://purl.imsglobal.org/ctx/caliper/v1p1`, `id`, `type` (valid string from a fixed vocabulary), `actor` (id and type attributes), `action` (valid string from a fixed vocabulary), `object`, \n`eventTime` (ISO 8601 format) without an envelope\n\nCaliper Event = Event payload + Envelope"
          },
          "response": [
            {
              "id": "7458323e-745f-4b52-bef2-bc4e0c86003b",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n}\n     "
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "432",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:39:20 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `data` attribute must be an array with at least one element.\", \n      \"Event envelope `dataVersion` attribute must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\", \n      \"Event envelope `sendTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n      \"Event envelope must include a `sensor` attribute.\"\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d91b70be-2262-492c-927a-7b2a64281a82",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "46dc52db-efc1-45d9-8707-7b5906acf551",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP with No envelope sent: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `@context` must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\" ], \"id\": \"urn:uuid:08316431-ad0e-4acc-a3e7-41e8dc2653cd\", \"index\": 0 } ] } }",
                  "pm.test(\"Reponse Body contains correct missing @context information\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('@context');",
                  "});",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an `@context` attribute, Works as expected"
          },
          "response": [
            {
              "id": "38323f5b-6acb-422b-9ad1-74e2fb256506",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "275",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 13:40:06 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `@context` must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\"\n        ], \n        \"id\": \"urn:uuid:9a3d8607-c74b-4786-9be0-ee84b56b5da9\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-a",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7e2569ed-d736-4487-b2e4-126ebd44aae5",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 422', function () {",
                  "    pm.response.to.have.status(422);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"envelope\": [ \"Event envelope `dataVersion` attribute must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\" ] } }",
                  "pm.test(\"Reponse Body contains correct incorrect \\\"dataVersion\\\" information in envelope\", function () {",
                  "    pm.expect(pm.response.text()).to.include('dataVersion');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Test Case: Send a Caliper event that contains an @context attribute in envelope that is not set to `http://purl.imsglobal.org/ctx/caliper/v1p1`, \nCase 1: `\"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\"`\n\nFor `http://purl.imsglobal.org/ctx/caliper/vxpx` when ever x>0 this pass. It Pass if the event is sent as `http://purl.imsglobal.org/ctx/caliper/v1p1` and also  as `http://purl.imsglobal.org/ctx/caliper/v100p12`-this. Currently Unizin is configured this way to support future version of caliper `v[#]p[#]*` and for very coming future `v1p1#nursing`\n\nCase1: The change is associted with the `\"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\"`\n\nCase2: The change is associted with the `\"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\"`"
          },
          "response": [
            {
              "id": "8298b191-5b4e-4011-98d0-3b5a5be0a296",
              "name": "Case 1 : Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "UNPROCESSABLE ENTITY",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "164",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:25:27 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"envelope\": [\n      \"Event envelope `dataVersion` attribute must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\"\n    ]\n  }\n}\n"
            },
            {
              "id": "052e36b6-61cc-4312-8dfa-352500aa7392",
              "name": "Case3 - Accepted",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:18:03 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:d8c869e9-09f5-43ba-b179-d5e2ce804b79\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66493619429689\"\n      }\n    }\n  ]\n}\n"
            },
            {
              "id": "2bcfa00c-232a-4bb6-a91f-de8e65356844",
              "name": "Case2 - accepted",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:20:38 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:58db374f-da93-45a7-be52-12947383ceff\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66490721417810\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-10-a-case-2",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6795775f-b709-47df-9211-10774e59220d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `@context` must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\" ], \"id\": \"urn:uuid:8903cbc9-022c-416c-a0bb-a26ca7475fb8\", \"index\": 0 } ] } }",
                  "pm.test(\"Reponse Body contains correct missing \\\"@context\\\" information for event payload version change\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('@context');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Test Case: Send a Caliper event that contains an `@context` attribute that is not set to `http://purl.imsglobal.org/ctx/caliper/v1p1`, \nCase 3: `\"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\"`"
          },
          "response": [
            {
              "id": "49f87449-7416-438d-b921-1e0f1f29939e",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p0\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "275",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:23:44 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `@context` must be a version like \\\"http://purl.imsglobal.org/ctx/caliper/v1p1\\\".\"\n        ], \n        \"id\": \"urn:uuid:f3183dcc-5b22-4c76-97d0-261fb8f922e8\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-b",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4c46f6d8-da0e-41e1-9e23-53826eae4ace",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `type` and `action` must be present, and `action` must be valid for `type`.\" ], \"id\": \"urn:uuid:4a4251f3-bd18-49b4-9884-9ca4554ced4e\", \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body contains correct missing \\\"type\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('type');",
                  "});",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n      \"id\": \"{{eventId}}\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain a `type` attribute"
          },
          "response": [
            {
              "id": "371420c9-a3ce-4258-9bec-d4b9bacea796",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n      \"id\": \"{{eventId}}\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:27:14 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:ceab0d5c-7cfb-4ed8-bc98-a4b7c9bd17a8\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-c",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "243b44d9-5fa0-4555-9291-31882d192d1e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `actor` attribute must an object or string.\" ], \"id\": \"urn:uuid:7910b297-60fe-458a-962c-41e5aeffc9d4\", \"index\": 0 } ] } }",
                  "pm.test(\"Reponse Body contains correct missing \\\"actor\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('actor');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an `actor` attribute"
          },
          "response": [
            {
              "id": "4818461e-75b0-4db4-9426-47e51db84059",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v100p12\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "237",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:28:13 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `actor` attribute must an object or string.\"\n        ], \n        \"id\": \"urn:uuid:a0c9dbb4-08a5-4f8a-9563-a96cffbcdd32\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-c1",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b0244bc6-4499-4c89-86bc-afae11758d6d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// { \"accepted_events\": [ { \"id\": \"urn:uuid:c19b0d64-0f3a-4961-9375-40dc151ec448\", \"topics\": { \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"73034070686350\" } } ] }",
                  "var gtCheck = \"UDP accepted LC bare minimum event in \\\"silver\\\" queue with id: \\\"{0}\\\" \".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n       \n        \"type\":\"Person\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Test Case: Send a Caliper event that contains an actor attribute\n`\"actor\": {\n        \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"type\":\"Person\"\n      }`"
          },
          "response": [
            {
              "id": "0133458e-8fb2-47d8-a329-c34928406411",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n        \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"type\":\"Person\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:29:14 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:11842334-be94-484f-9dd6-d8cd43d60bb7\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66498317917528\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-10-d",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n        \"type\":\"Person\"\n        \n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Test Case: Send a Caliper event that contains an actor attribute, but not actor.id\n\n\"actor\": {\n        \"type\":\"Person\"\n}\n\nThis failed expected is 400 but got 200 from endpoint inspite the \"actor.id\" is not present in the event payload"
          },
          "response": [
            {
              "id": "c913d5df-8712-4e31-8b85-b278b0d5be87",
              "name": "Fail",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n        \"type\":\"Person\"\n        \n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:32:05 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:1fc960eb-9d2b-4623-b9c0-711605421bd3\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66499155800899\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-10-f",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n         \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Test Case: Send a Caliper event that contains an actor attribute, but not actor.type\n\n\"actor\": {\n        \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n\t}\n\t\nThis Failed because expecting 400 but got 200 from endpoint inspite the fact that actor \"type\" is missing as actor type can be a \"person\" and \"Software application\""
          },
          "response": [
            {
              "id": "6f613145-f543-4adc-bd3c-3b22f98f75a9",
              "name": "Fail",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": {\n         \"id\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      },\n      \"action\": \"Paused\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\"\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:37:11 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:c3263ed4-edfb-413f-87ae-cdce08ef2834\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-Silver-dev\": \"66500791517838\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-10-g",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "d08b4686-2758-4df9-ab7c-821167d728c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `type` and `action` must be present, and `action` must be valid for `type`.\" ], \"id\": \"urn:uuid:6a425ad6-db16-491a-a354-88ddc630b4f6\", \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body contains correct missing \\\"action\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('action');",
                  "});",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an `action` attribute"
          },
          "response": [
            {
              "id": "7a4a85c4-4f8b-4ea6-99c2-20ef433715cc",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"object\": {\n        \"id\": \"https://leccap.engin.umich.edu/leccap/viewer/r/woNYn8\",\n        \"type\": \"VideoObject\",\n        \"name\": \"Lecture recorded on 9/19/2017\",\n        \"dateCreated\": \"2017-10-01T16:08:02.000Z\",\n        \"dateModified\": \"2017-10-01T21:28:59.000Z\",\n        \"duration\": \"PT5099.000S\",\n        \"isPartOf\": {\n          \"id\": \"https://leccap.engin.umich.edu/leccap/site/ziiq5uzrd9k06e6vjew\",\n          \"type\": \"WebPage\",\n          \"name\": \"EECS 370 001 / 002 / 003 / 004\",\n          \"dateCreated\": \"2017-10-01T06:41:17.000Z\"\n        }\n      },\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:43:10 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:fadd5443-1382-43ec-857c-2810d0e1e631\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-h",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "51b8c2ef-166f-486b-b11f-1fbb3d6f3776",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `type` and `action` must be present, and `action` must be valid for `type`.\" ], \"id\": \"urn:uuid:6a425ad6-db16-491a-a354-88ddc630b4f6\", \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body contains correct missing \\\"object\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('object');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an `object` attribute\n\nTest Passed but the error message should contain that `Object` is missing instead it is indication `type` and `action`  is missing"
          },
          "response": [
            {
              "id": "355b0f71-989b-481f-9c38-6e3923b83ca2",
              "name": "Partial Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:44:00 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:3fffb5a8-52e1-413a-b61a-600c03902db2\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-i",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6f01dd39-f9e3-4d89-9a8d-ee85841ae6bd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `type` and `action` must be present, and `action` must be valid for `type`.\" ], \"id\": \"urn:uuid:6a425ad6-db16-491a-a354-88ddc630b4f6\", \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body contains missing \\\"eventTime\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('eventTime');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an `eventTime` attribute"
          },
          "response": [
            {
              "id": "a73d9c24-39fd-4292-846f-f3b9fc10f6db",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "387",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:45:05 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `eventTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:c89b2788-9812-4d91-bc71-ac99d58e2686\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-j",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1d641bbd-4ca8-4316-bea3-025d161ecd78",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "// { \"errors\": { \"events\": [ { \"errors\": [ \"Event `type` and `action` must be present, and `action` must be valid for `type`.\" ], \"id\": \"urn:uuid:6a425ad6-db16-491a-a354-88ddc630b4f6\", \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body contains right format \\\"eventTime\\\" information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('yyyy-mm-ddThh:mm:ss.SSSZ');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"2018-03-29T17:49:58Z\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that contains an eventTime attribute, but its value is not in ISO 8601 format\n\ncase 1: changed \"eventTime\": \"2018-03-29T17:49:58.952123Z\", pass\n\ncase 2: changed \"eventTime\": \"2018-03-29T17:49:58Z\", pass"
          },
          "response": [
            {
              "id": "ec0762d8-5818-467c-89ef-973e13f853e8",
              "name": "Case1: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"2018-03-29T17:49:58.99999999Z\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "387",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:46:29 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `eventTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:03bd8e93-d0ff-4faa-9e37-7f99c8e918de\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            },
            {
              "id": "8218d913-6d83-46b4-855f-8271aee23acf",
              "name": "Case 2 - Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"MediaEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"2018-03-29T17:49:58Z\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "387",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:47:22 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `eventTime` attribute must be an ISO 8601 time string formated like \\\"yyyy-mm-ddThh:mm:ss.SSSZ\\\".\", \n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:2b2a6867-eec3-46cf-8059-b2f2d3a6c623\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-10-k",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "86f5d7d7-08b0-436c-83a0-7da3a50c5ca0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "//{ \"errors\": { \"events\": [ { \"errors\": [ \"Event `id` must be present. Version 4 UUID is recommended.\" ], \"id\": null, \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body has correct \\\"id\\\" missing information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include('Event `id` must be present');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an id attribute\n\nCase 1: Removed \"id\" attributed, endpoint reacted as expected 400, Pass\n\nCase 2: incorrect format for id, \"urn:uuid:bus-stop-3-55\" endpoint accepted with 200, Partial Success, Event found in BQ, shouldn't the endpoint checking for correct uuid format?\n\nCase 3: incorrect format for id, \"bus-stop-3-55\" endpoint accepted with 200, Event not found in BQ, but accepted by the endpoint?"
          },
          "response": [
            {
              "id": "212d1bf5-1705-448f-bff1-5eb2a4ded316",
              "name": "Case 1: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "204",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 15:20:44 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `id` must be present.  Version 4 UUID is recommended.\"\n        ], \n        \"id\": null, \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            },
            {
              "id": "914c8ec1-2317-4b15-be82-1851aa88dd93",
              "name": "case 3: Failure",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"bus-stop-3-56\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 10 Apr 2018 16:41:57 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"bus-stop-3-56\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"70974159180750\"\n      }\n    }\n  ]\n}\n"
            },
            {
              "id": "0e5a1e59-6065-45af-9d7d-2925fe049482",
              "name": "Case 2: Partial Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"urn:uuid:bus-stop-3-55\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 16:50:56 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:bus-stop-3-55\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66572889239555\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        },
        {
          "name": "E-10-k case-2",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6ea7940f-c86b-4d62-b30c-5c7814f773b3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "//{ \"errors\": { \"events\": [ { \"errors\": [ \"Event `id` must be present. Version 4 UUID is recommended.\" ], \"id\": null, \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body has correct  \\\"UUID version 4 \\\" id format information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include('Version 4 UUID is recommended');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"bus-stop-3-56\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that does not contain an id attribute\n\nCase 1: Removed \"id\" attributed, endpoint reacted as expected 400, Pass\n\nCase 2: incorrect format for id, \"urn:uuid:bus-stop-3-55\" endpoint accepted with 200, Partial Success, Event found in BQ, shouldn't the endpoint checking for correct uuid format?\n\nCase 3: incorrect format for id, \"bus-stop-3-55\" endpoint accepted with 200, Event not found in BQ, but accepted by the endpoint?"
          },
          "response": [
            {
              "id": "253f49fe-0b6e-4ec8-9c79-247e6845b4ea",
              "name": "case 3: Failure",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"bus-stop-3-56\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 10 Apr 2018 16:41:57 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"bus-stop-3-56\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"70974159180750\"\n      }\n    }\n  ]\n}\n"
            },
            {
              "id": "395044e4-40b2-425e-b62a-0b0ab36c3358",
              "name": "Case 2: Partial Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"urn:uuid:bus-stop-3-55\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 16:50:56 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:bus-stop-3-55\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66572889239555\"\n      }\n    }\n  ]\n}\n"
            },
            {
              "id": "d2612f5d-2145-496f-8969-8201fa3e7ef7",
              "name": "Case 1: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"type\": \"MediaEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "204",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 15:20:44 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `id` must be present.  Version 4 UUID is recommended.\"\n        ], \n        \"id\": null, \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-11",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "013f9fe8-bcb5-40a1-8105-967b08857a2b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "//{ \"errors\": { \"events\": [ { \"errors\": [ \"Event `id` must be present. Version 4 UUID is recommended.\" ], \"id\": null, \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body has correct \\\"type\\\" missing information for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('`type`');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SyllabusEvent\",\n      \"action\":\"Started\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that contains all required attributes, but a type that is not part of the fixed vocabulary\n\nCase1 = { type = \"SyllabusEvent\",action =\"Paused\"} invalid \"type\" but valid \"action\" => Pass\n\nCase2 = { type = \"SessionEvent\", action = \"Paused\"} valid \"type\" and valid \"action\" but the combination of \"type\" and \"action\" doesn't match => Pass\n\nI see with few cases of \"type\" and \"action\" UDP is returning with correct response but it will be exhaustive to test all combinations of caliper \"type\" and \"action\" from fixed vocabulary"
          },
          "response": [
            {
              "id": "87eb81fc-6e83-4294-8a9e-9976cacb078f",
              "name": "Case 2: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:51:38 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:09b7058c-9844-4519-b110-973f9c6eb0e4\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            },
            {
              "id": "2a598f17-9cc7-4be2-9f72-dcf3eb626669",
              "name": "Case 1: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SyllabusEvent\",\n      \"action\":\"Paused\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:50:27 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:246e258b-2155-4334-9d93-4bbdf0fe6a33\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-12",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "eacc4a4e-0ba2-4d0b-a0cf-92a1cd3d902c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP for invalid caplier version: 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error Response is of type JSON', function () { ",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get('Content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "//{ \"errors\": { \"events\": [ { \"errors\": [ \"Event `id` must be present. Version 4 UUID is recommended.\" ], \"id\": null, \"index\": 0 } ] } }",
                  "",
                  "pm.test(\"Reponse Body has right \\\"action\\\" attribute mismatch for event payload\", function () {",
                  "    pm.expect(pm.response.text()).to.include(pm.globals.get('eventId'));",
                  "    pm.expect(pm.response.text()).to.include('`action`');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"谢谢\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper event that contains all required attributes, but an action that is not part of the fixed vocabulary\n\nCase 1: \"action\":\"Rested\" => Pass\n\nCase 2: \"action\":\"谢谢\" => Pass"
          },
          "response": [
            {
              "id": "65b92962-68dd-4872-8df1-34688be6250d",
              "name": "Case 2: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"谢谢\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:55:47 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:33666490-8802-445b-bf8a-7103a6036fe6\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            },
            {
              "id": "319c8e0e-a10e-452e-b6b9-e588252e2c5a",
              "name": "Case 1: Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"BlahAction\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "BAD REQUEST",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Length",
                  "value": "269",
                  "name": "Content-Length",
                  "description": "The length of the response body in octets (8-bit bytes)"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:55:02 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"errors\": {\n    \"events\": [\n      {\n        \"errors\": [\n          \"Event `type` and `action` must be present, and `action` must be valid for `type`.\"\n        ], \n        \"id\": \"urn:uuid:490c25d7-00a8-4c97-ae93-c784b6e11f49\", \n        \"index\": 0\n      }\n    ]\n  }\n}\n"
            }
          ]
        },
        {
          "name": "E-13",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "396981aa-84cc-4256-94a9-90631bdde146",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ea59a8d1-1660-4840-9104-8164338b5751",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Send a Caliper envelope that contains sensor, sendTime, dataVersion, data, dataVersion = http://purl.imsglobal.org/ctx/caliper/v1p1 attributes"
          },
          "response": [
            {
              "id": "3fdc61a6-7a98-4773-a059-9f3845af42b0",
              "name": "Pass",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "disabled": false
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"https://example.edu/sensors/1\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"action\":\"TimedOut\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n    }\n      ]\n    }"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Alt-Svc",
                  "value": "hq=\":443\"; ma=2592000; quic=51303432; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"42,41,39,35\"",
                  "name": "Alt-Svc",
                  "description": "Custom header"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "name": "Content-Encoding",
                  "description": "The type of encoding used on the data."
                },
                {
                  "key": "Content-Type",
                  "value": "application/json",
                  "name": "Content-Type",
                  "description": "The mime type of this content"
                },
                {
                  "key": "Date",
                  "value": "Tue, 03 Apr 2018 14:58:43 GMT",
                  "name": "Date",
                  "description": "The date and time that the message was sent"
                },
                {
                  "key": "Server",
                  "value": "gunicorn/19.7.1",
                  "name": "Server",
                  "description": "A name for the server"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked",
                  "name": "Transfer-Encoding",
                  "description": "The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity."
                },
                {
                  "key": "Vary",
                  "value": "Accept-Encoding",
                  "name": "Vary",
                  "description": "Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server."
                },
                {
                  "key": "Via",
                  "value": "1.1 google",
                  "name": "Via",
                  "description": "Informs the client of proxies through which the response was sent."
                }
              ],
              "cookie": [],
              "body": "{\n  \"accepted_events\": [\n    {\n      \"id\": \"urn:uuid:2b09437c-ac89-4e55-b482-ee17256a8a43\", \n      \"topics\": {\n        \"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"66512157978134\"\n      }\n    }\n  ]\n}\n"
            }
          ]
        }
      ]
    },
    {
      "name": "Silver-Tier",
      "description": "",
      "item": [
        {
          "name": "E-18_plain_silver_tier",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cdcdd138-16b2-4f0e-a858-9b1d84547175",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); ",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ea43aea6-2de2-4c9a-a3fc-90445ab9fab7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "",
                  "var expectedSQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                  "var gtCheck = \"UDP accepted LC event in \\\"Silver\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(expectedSQName).equal(udpQueueName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "var bq = pm.environment.set(\"bq\",bq);",
                  "// delying for 30 sec and then query BQ",
                  "delayRequestToBigQuery();",
                  "",
                  "function delayRequestToBigQuery() {",
                  "    setTimeout(function () {",
                  "        console.log(\"waiting here for 30 seconds before making BQ call\");",
                  "    },30000);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"udp_testing_sensor\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"action\": \"NavigatedTo\",\n      \"actor\": {\n        \"id\": \"https://example.edu/users/554433\",\n        \"type\": \"Person\"\n      },\n      \"edApp\": \"https://UDP_testing_app.edu\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"group\": {\n        \"academicSession\": \"Fall 2016\",\n        \"courseNumber\": \"CPS 435-01\",\n        \"id\": \"https://example.edu/terms/201601/courses/7/sections/1\",\n        \"type\": \"CourseSection\"\n      },\n      \"id\": \"{{eventId}}\",\n      \"membership\": {\n        \"dateCreated\": \"2016-08-01T06:00:00.000Z\",\n        \"id\": \"https://example.edu/terms/201601/courses/7/sections/1/rosters/1\",\n        \"member\": \"https://example.edu/users/554433\",\n        \"organization\": \"https://example.edu/terms/201601/courses/7/sections/1\",\n        \"roles\": [\n          \"Learner\"\n        ],\n        \"status\": \"Active\",\n        \"type\": \"Membership\"\n      },\n      \"object\": {\n        \"dateCreated\": \"2016-08-01T09:00:00.000Z\",\n        \"description\": \"Overview of Learning Analytics Specifications with particular emphasis on IMS Caliper.\",\n        \"id\": \"https://example.edu/terms/201601/courses/7/sections/1/pages/2\",\n        \"name\": \"Learning Analytics Specifications\",\n        \"type\": \"WebPage\"\n      },\n      \"referrer\": {\n        \"id\": \"https://example.edu/terms/201601/courses/7/sections/1/pages/1\",\n        \"type\": \"WebPage\"\n      },\n      \"session\": {\n        \"id\": \"https://example.edu/sessions/1f6442a482de72ea6ad134943812bff564a76259\",\n        \"startedAtTime\": \"2016-11-15T10:00:00.000Z\",\n        \"type\": \"Session\"\n      },\n      \"type\": \"NavigationEvent\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            }
          },
          "response": []
        },
        {
          "name": "E-22_call_to_bq_to_see_silver_tier_event",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "33eb3ac1-f6cb-4d58-bab5-76abcc0966d6",
                "type": "text/javascript",
                "exec": [
                  "var resp = pm.response;",
                  "pm.test('Response from BQ: 200 OK', function () {",
                  "    if(pm.response.code == 200){",
                  "        console.log(\"Happy response from BQ\");",
                  "        pm.expect(pm.response.code).to.equal(200);",
                  "    }else{",
                  "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                  "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                  "    }",
                  "});",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "var bq = pm.environment.get(\"bq\");",
                  "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                  "",
                  "// get the column positions",
                  "var bqRes = resp.json();",
                  "var edAppColPosi;",
                  "var ucdmCourseOfferingIdColumPosi;",
                  "var ucdmActorIdColPosi;",
                  "var bqColumnValues=bqRes.schema.fields;",
                  "for(i=0;i<bqColumnValues.length;i++){",
                  "    if(bqColumnValues[i].name ===\"ed_app\"){",
                  "        edAppColPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_course_offering_id\"){",
                  "        ucdmCourseOfferingIdColumPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_actor_id\"){",
                  "        ucdmActorIdColPosi=i;",
                  "    }",
                  "}",
                  "",
                  "var tableRows = bqRes.rows[0];",
                  "var tableId=tableRows.f[0].v;",
                  "var edAppValue=tableRows.f[edAppColPosi].v;",
                  "var ucdmCourseOfferingIdValue=tableRows.f[ucdmCourseOfferingIdColumPosi].v;",
                  "var ucdmActorIdValue=tableRows.f[ucdmActorIdColPosi].v;",
                  "",
                  "pm.test(gtBQCheck, function () {",
                  "    pm.expect((tableId)).to.equal(bq);",
                  "    pm.expect((edAppValue)).to.equal(null);",
                  "    pm.expect((ucdmCourseOfferingIdValue)).to.equal(null);",
                  "    pm.expect((ucdmActorIdValue)).to.equal(null);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{gcp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
            },
            "url": {
              "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
              "protocol": "https",
              "host": [
                "www",
                "googleapis",
                "com"
              ],
              "path": [
                "bigquery",
                "v2",
                "projects",
                "unizin-udp-data-umich-dev",
                "queries"
              ]
            }
          },
          "response": []
        },
        {
          "name": "E-27_leccap_silver-tier-process",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cdcdd138-16b2-4f0e-a858-9b1d84547175",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); ",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ea43aea6-2de2-4c9a-a3fc-90445ab9fab7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "",
                  "var expectedSQName='stream-unizin-umich-umich-stream-silver-'+pm.environment.get(\"env\");",
                  "var gtCheck = \"UDP accepted LC event in \\\"Silver\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(expectedSQName).equal(udpQueueName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "var bq = pm.environment.set(\"bq\",bq);",
                  "// delying for 30 sec and then query BQ",
                  "delayRequestToBigQuery();",
                  "",
                  "function delayRequestToBigQuery() {",
                  "    setTimeout(function () {",
                  "        console.log(\"waiting here for 30 seconds before making BQ call\");",
                  "    },30000);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n      \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n      \"id\": \"{{eventId}}\",\n      \"type\": \"SessionEvent\",\n      \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n      \"action\": \"LoggedIn\",\n      \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"eventTime\": \"{{timestampUtcIso8601}}\",\n      \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n      \"group\": {\n        \"academicSession\": \"w18\",\n        \"courseNumber\": \"MFG 599\",\n        \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n        \"name\": \"Engineering test course\",\n        \"type\": \"CourseOffering\"\n      },\n      \"membership\": {\n        \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member=ststvii\",\n        \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n        \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n        \"roles\": [\n          \"Learner\"\n        ],\n        \"status\": \"Active\",\n        \"type\": \"Membership\"\n      },\n      \"session\": {\n        \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n        \"startedAtTime\": \"2018-03-15T18:03:26.057Z\",\n        \"type\": \"Session\",\n        \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n      }\n\n    }\n  ]\n}"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            }
          },
          "response": []
        },
        {
          "name": "E-27_call_to_bq_see_the_leccap_silver_tier_event",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d299c911-5dd5-4bef-9e6b-9545670602da",
                "type": "text/javascript",
                "exec": [
                  "var resp = pm.response;",
                  "pm.test('Response from BQ: 200 OK', function () {",
                  "    if(pm.response.code == 200){",
                  "        console.log(\"Happy response from BQ\");",
                  "        pm.expect(pm.response.code).to.equal(200);",
                  "    }else{",
                  "        console.log(\"Unhappy response for BQ\",pm.response.code);",
                  "        pm.expect(resp.code,resp.json().error.message).to.equal(200);",
                  "    }",
                  "});",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "});",
                  "",
                  "var bq = pm.environment.get(\"bq\");",
                  "var gtBQCheck = \"Event with Id \\\"{0}\\\" found in BQ under 30 sec\".format(bq);",
                  "",
                  "// get the column positions",
                  "var bqRes = resp.json();",
                  "var edAppColPosi;",
                  "var ucdmCourseOfferingIdColumPosi;",
                  "var ucdmActorIdColPosi;",
                  "var bqColumnValues=bqRes.schema.fields;",
                  "for(i=0;i<bqColumnValues.length;i++){",
                  "    if(bqColumnValues[i].name ===\"ed_app\"){",
                  "        edAppColPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_course_offering_id\"){",
                  "        ucdmCourseOfferingIdColumPosi=i;",
                  "    }",
                  "    if(bqColumnValues[i].name ===\"ucdm_actor_id\"){",
                  "        ucdmActorIdColPosi=i;",
                  "    }",
                  "}",
                  "",
                  "var tableRows = bqRes.rows[0];",
                  "var tableId=tableRows.f[0].v;",
                  "var edAppValue=tableRows.f[edAppColPosi].v;",
                  "var ucdmCourseOfferingIdValue=tableRows.f[ucdmCourseOfferingIdColumPosi].v;",
                  "var ucdmActorIdValue=tableRows.f[ucdmActorIdColPosi].v;",
                  "",
                  "pm.test(gtBQCheck, function () {",
                  "    pm.expect((tableId)).to.equal(bq);",
                  "    pm.expect((edAppValue)).to.equal(null);",
                  "    pm.expect((ucdmCourseOfferingIdValue)).to.equal(null);",
                  "    pm.expect((ucdmActorIdValue)).to.equal(null);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{gcp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"select * from learning_datasets.enriched_events where id = '{{bq}}'\"\n}"
            },
            "url": {
              "raw": "https://www.googleapis.com/bigquery/v2/projects/unizin-udp-data-umich-dev/queries",
              "protocol": "https",
              "host": [
                "www",
                "googleapis",
                "com"
              ],
              "path": [
                "bigquery",
                "v2",
                "projects",
                "unizin-udp-data-umich-dev",
                "queries"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Endpoint_acceptance_Leccap_Edapp_various_format",
      "description": "This folder includes tests that UDP caliper end point should accept various leccap ed_app format that can be sent. Internally UDP Pipeline is processing it using a Regex: http[s]*://leccap.*\\.engin\\.umich\\.edu/",
      "item": [
        {
          "name": "Format-https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Captur",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "aeafa23b-4c74-4e41-92d9-9694498e24c3",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "250d43fb-7603-463e-8c8d-dfee8e0ad887",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "function parseResp(data){",
                  "    msg = jsonData.accepted_events[0];",
                  "    idWithUrn = msg.id;",
                  "    id=idWithUrn.split(\":\")[2];",
                  "    topic = msg.topics;",
                  "    return {\"id\":id,\"topic\":topic};",
                  "}",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// var bq = \"9eda84a3-79d0-47aa-b868-0be6dc2143f3\";",
                  "pm.environment.set('bq',bq);",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Requires Postman environment keys:\n* udp_token\n* udp_uniqname\n* udp_lis_course_offering_sourcedid\n* udp_lis_person_sourcedid"
          },
          "response": [
            {
              "id": "31826833-7f0d-44f2-858c-2794aa919711",
              "name": "Ex. 1: SessionEvent, LoggedIn",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "html",
              "header": [
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Encoding",
                  "description": ""
                },
                {
                  "key": "Content-Type",
                  "value": "text/html; charset=utf-8",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Type",
                  "description": ""
                }
              ],
              "cookie": [],
              "body": "{\"urn:uuid:654e4d31-e56d-45cc-9661-deb323080f7a\": {\"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"39447962165063\"}}"
            }
          ]
        },
        {
          "name": "Format_https://leccap.engin.umich.edu/#applicationName=Lecture+Capture",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "aeafa23b-4c74-4e41-92d9-9694498e24c3",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "c21439fd-b808-459a-a152-6f7a583d44dc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "function parseResp(data){",
                  "    msg = jsonData.accepted_events[0];",
                  "    idWithUrn = msg.id;",
                  "    id=idWithUrn.split(\":\")[2];",
                  "    topic = msg.topics;",
                  "    return {\"id\":id,\"topic\":topic};",
                  "}",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// var bq = \"9eda84a3-79d0-47aa-b868-0be6dc2143f3\";",
                  "pm.environment.set('bq',bq);",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Requires Postman environment keys:\n* udp_token\n* udp_uniqname\n* udp_lis_course_offering_sourcedid\n* udp_lis_person_sourcedid"
          },
          "response": [
            {
              "id": "8aeff45d-4ed1-41e8-a3b7-cd5e6538ab5d",
              "name": "Ex. 1: SessionEvent, LoggedIn",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "html",
              "header": [
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Encoding",
                  "description": ""
                },
                {
                  "key": "Content-Type",
                  "value": "text/html; charset=utf-8",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Type",
                  "description": ""
                }
              ],
              "cookie": [],
              "body": "{\"urn:uuid:654e4d31-e56d-45cc-9661-deb323080f7a\": {\"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"39447962165063\"}}"
            }
          ]
        },
        {
          "name": "Format_https://leccap.engin.umich.edu/leccap/",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "aeafa23b-4c74-4e41-92d9-9694498e24c3",
                "type": "text/javascript",
                "exec": [
                  "eval(pm.variables.get('initRequest')); // Defined in collection pre-request script"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "c21439fd-b808-459a-a152-6f7a583d44dc",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response from UDP: 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var resp = pm.expect(pm.response);",
                  "",
                  "pm.test('Response is JSON: OK to process', function () { ",
                  "    resp.ok;",
                  "    resp.header('content-type');",
                  "    pm.expect(pm.response.headers.get('content-type')).match(/^application\\/json/i);",
                  "    resp.json; ",
                  "});",
                  "",
                  "function parseResp(data){",
                  "    msg = jsonData.accepted_events[0];",
                  "    idWithUrn = msg.id;",
                  "    id=idWithUrn.split(\":\")[2];",
                  "    topic = msg.topics;",
                  "    return {\"id\":id,\"topic\":topic};",
                  "}",
                  "var jsonData = pm.response.json();",
                  "var parsedData = parseResp(jsonData);",
                  "var bq = parsedData.id;",
                  "// var bq = \"9eda84a3-79d0-47aa-b868-0be6dc2143f3\";",
                  "pm.environment.set('bq',bq);",
                  "",
                  "var gtCheck = \"UDP accepted LC event in \\\"Gold\\\" queue with id: \\\"{0}\\\"\".format(bq);",
                  "pm.test(gtCheck, function() {",
                  "    var expectedQName='stream-unizin-umich-umich-stream-gold-umich-leccap-'+pm.environment.get(\"env\");",
                  "    var eventId = bq;",
                  "    var udpQueueName = Object.keys(parsedData.topic)[0] ;",
                  "    var udpQueueId = Object.values(parsedData.topic)[0] ;",
                  "    pm.expect(udpQueueName).equal(expectedQName);",
                  "    pm.expect(parseInt(udpQueueId, 10)).gt(40096419239401);",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{udp_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap.engin.umich.edu/leccap/\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
            },
            "url": {
              "raw": "https://umich.caliper.{{env}}.cloud.unizin.org",
              "protocol": "https",
              "host": [
                "umich",
                "caliper",
                "{{env}}",
                "cloud",
                "unizin",
                "org"
              ]
            },
            "description": "Requires Postman environment keys:\n* udp_token\n* udp_uniqname\n* udp_lis_course_offering_sourcedid\n* udp_lis_person_sourcedid"
          },
          "response": [
            {
              "id": "23b57237-7daa-4820-b1cc-97e58063c420",
              "name": "Ex. 1: SessionEvent, LoggedIn",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"sensor\": \"leccap_caliper_postman\",\n  \"sendTime\": \"{{timestampUtcIso8601}}\",\n  \"dataVersion\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"data\": [\n    {\n  \"@context\": \"http://purl.imsglobal.org/ctx/caliper/v1p1\",\n  \"id\": \"{{eventId}}\",\n  \"type\": \"SessionEvent\",\n  \"actor\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n  \"action\": \"LoggedIn\",\n  \"object\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"eventTime\": \"{{timestampUtcIso8601}}\",\n  \"edApp\": \"https://leccap-beta.engin.umich.edu/#applicationName=Lecture+Capture\",\n  \"group\": {\n    \"academicSession\": \"w18\",\n    \"courseNumber\": \"MFG 599\",\n    \"dateCreated\": \"2013-08-06T17:33:14.000Z\",\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"name\": \"Engineering test course\",\n    \"type\": \"CourseOffering\"\n  },\n  \"membership\": {\n    \"id\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=Membership&member={{udp_uniqname}}\",\n    \"member\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\",\n    \"organization\": \"https://leccap-beta.engin.umich.edu/leccap/site/i8nnmrgfvqkmcyq8wps#type=CourseOffering\",\n    \"roles\": [\n      \"Learner\"\n    ],\n    \"status\": \"Active\",\n    \"type\": \"Membership\"\n  },\n  \"session\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/44l9rs836ckb6ql21ldvhrmku1\",\n    \"startedAtTime\": \"{{timestampUtcIso8601}}\",\n    \"type\": \"Session\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  },\n  \"federatedSession\": {\n    \"id\": \"urn:session-id-localized:leccap-beta.engin.umich.edu/lti/oauth_nonce/5a81e2eb557427.65333446\",\n    \"messageParameters\": {\n      \"custom_canvas_course_id\": \"211644\",\n      \"custom_canvas_user_id\": \"151503\",\n      \"lis_course_offering_sourcedid\": \"{{udp_lis_course_offering_sourcedid}}\",\n      \"lis_person_sourcedid\": \"{{udp_lis_person_sourcedid}}\",\n      \"resource_link_id\": \"43814f5790e0379119130a37450d6d126a70b2c1\"\n    },\n    \"type\": \"LtiSession\",\n    \"user\": \"https://mcommunity.umich.edu/#profile:{{udp_uniqname}}\"\n  }\n}\n  ]\n}\n"
                },
                "url": {
                  "raw": "https://unizin-udp-data-umich-dev.appspot.com/",
                  "protocol": "https",
                  "host": [
                    "unizin-udp-data-umich-dev",
                    "appspot",
                    "com"
                  ],
                  "path": [
                    ""
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "html",
              "header": [
                {
                  "key": "Content-Encoding",
                  "value": "gzip",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Encoding",
                  "description": ""
                },
                {
                  "key": "Content-Type",
                  "value": "text/html; charset=utf-8",
                  "type": "text",
                  "enabled": true,
                  "name": "Content-Type",
                  "description": ""
                }
              ],
              "cookie": [],
              "body": "{\"urn:uuid:654e4d31-e56d-45cc-9661-deb323080f7a\": {\"STREAM-unizin-umich-umich-stream-GoldUMichLectureCapture-dev\": \"39447962165063\"}}"
            }
          ]
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{udp_token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "5dca8aaa-9102-4b9a-afc4-4e38ae5bbe12",
        "type": "text/javascript",
        "exec": [
          "// Postman (v5.5.3) doesn't pass definitions from collection to folder to request.",
          "// To get unique values (timestamp, ID, etc.) in each request, define them here.",
          "// Then in the request's pre-request script, use:",
          "//      eval(pm.variables.get('initRequest'));",
          "function initRequest() {",
          "    pm.globals.set('timestampUtcIso8601', (new Date()).toISOString());",
          "    pm.globals.set('randomString', Math.random().toString(26).substring(2).replace(/[0-9]/g, c => 'qrstuvwxyz'[c]));",
          "",
          "    var uuid = require('uuid');",
          "    pm.globals.set('eventId', 'urn:uuid:' + uuid.v4());",
          "}",
          "String.prototype.format = function () {",
          "        var a = this;",
          "        for (var k in arguments) {",
          "            a = a.replace(new RegExp(\"\\\\{\" + k + \"\\\\}\", 'g'), arguments[k]);",
          "        }",
          "        return a;",
          "};",
          "parseResp = function (data){",
          "    msg = data.accepted_events[0];",
          "    idWithUrn = msg.id;",
          "    id=idWithUrn.split(\":\")[2];",
          "    topic = msg.topics;",
          "    return {\"id\":id,\"topic\":topic};",
          "};",
          "",
          "pm.globals.set(initRequest.name, initRequest.toString() + initRequest.name + '()');",
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "42eee30c-559d-4d33-abb9-64aa5bcccceb",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}