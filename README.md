# udp

Tools and data for testing Univ. of Michigan application interaction with 
the learning analytics endpoint of Unizin's Data Platform project.

###### Events description.
Caliper event to the minimum requires `actor`,`action`,`Object`. A simple definition of caliper events is an `actor` doing an `action` on `object` 
### Common things between both versions
*  All caliper events date and time follow the ISO 8601 with the addition of millisecond precision. 
   The format is yyyy-MM-ddTHH:mm:ss.SSSZ where 'T' separates the date from the time while 'Z' indicates that the time is set to UTC
*  `eventTime` is time when making the caliper event. The time is generated by the application when crafting the caliper event
* `dateModified`,`dateCreated`,`startedAtTime` are self-explanatory is part of each object inside the caliper event, if value is available 
* `actor` in all the lecture capture application is a person accessing the Web application and provides info like Uniqname, Full name.
* `group` and `membership` object are added when available usually when the application launch happens via LTI.
  * `group` give information about Course the VideoObject belongs to
  *  `@id` value is represented using blank node
  * `membership` gives additional information about the user, like `actor` role, status in Course.
* Caliper Envelope contains
  * Sensor Id `sensor` that identifies an event as part of a particular application so the data storing platform categories then.
  * `sendTime` the time when sending the caliper events to LRS, This time is generated by the caliper library that application is using. 
     The identifier SHOULD be in the form of an IRI
  * `dataVersion` specifies caliper version, represented in IRI
  * `data` contains array caliper events 
#### Caliper v1p0

1. Properties `@context`,`@type`, `@id` values represented in IRI, following JSON-LD spec and will be part of each caliper object in a Event
2. `@context` value is `http://purl.imsglobal.org/ctx/caliper/v1/Context`
3. `type` tell which type of event or entity the object belong to. `type` is a IRI in compliance with JSON-LD spec
4. `null` and empty strings to properties are not allowed.
5. For Media Events, `Object` is the `MediaLocation` giving the location of the video stream in `currentTime`(MilliSec).
   For example `Paused` event `currentTime` means location of the video stream paused occurred. 
  * `@id` the URL of the video player
  * `Object` is part of the `VideoObject` and gives the total recording time of the video and is captured by `duration` in ms.
  * `VideoObject` supports the related Entity called `isPartOf` describes to the site video belongs to
6. Caliper sensorId information is missing from the events as our LRS skipped it when absorbing the event.
7.`openlrsSourceId` is not part of the actual caliper event sent by application or spec but added to the event by the LRS to uniquely identify caliper event.
 
8. For Session event, gives information about session the user belongs to and is Captured by the `generated` object as `Session` type
    * `actor` information is also added part of the `generated` object
    * Session information can be attached to the Media events as well but currently it is not passed on to other events 

#### Caliper v1p1
1.`@` is dropped from the properties like `type` and `id`
2. UUID is required to uniquely identify the events. Caliper recommends use of randomly or pseudo-randomly generated version 4 UUIDs
3. `@Context` is dropped from each object of the caliper events and only present top level, value is `http://purl.imsglobal.org/ctx/caliper/v1p1`
4. `action` values are simple like `Ended`, `Paused` etc
5. `type` values are simple like `MediaEvent`, `VideoObject`
6. `null` and empty strings to properties are not allowed
7. for `Media Events` 
   * `object` is of type  `VideoObject` instead of `MediaLoacation`
        * `id` is URL of the video player
        * `duration` represented in ISO 8601 duration format, total time takes to view the VideoObject
        * additional information about the `VideoObject` is captured as `isPartOf` giving info to site video belongs to.
   * `target` is the `MediaLocation`
        * `currentTime` gives location of video stream in ISO 8601 duration format
8. For Session event, gives information about session the user belongs to and is Captured by the `session` object.
 
 

